
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>mysql2月15日Java班作业笔记 - 网络书屋(Web Reading Room)</title>
  <meta name="author" content="Ye Zhaoliang">

  
  <meta name="description" content="1、MYSQL官方版下载地址（不推荐初学者使用）：http://www.mysql.com/downloads/ 如鹏网版绿色免安装版MYSQL（推荐初学者使用）：http://pan.baidu.com/s/1c0COfGc 2、 常用概念 一般我们说的数据库是指DBMS，数据库管理系统，比如 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jueqingsizhe66.github.io/blog/2015/05/11/mysql2yue-15ri-javaban-zuo-ye-bi-ji">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="网络书屋(Web Reading Room)" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">网络书屋(Web Reading Room)</a></h1>
  
    <h2>A blogging framework for hackers.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss email">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
    <li><a href="zhaoturkey@163.com" rel="subscribe-email" title="subscribe via email">Email</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:jueqingsizhe66.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">mysql2月15日Java班作业笔记</h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-05-11T14:58:45+08:00" pubdate data-updated="true">May 11<span>th</span>, 2015</time>
        

         
          | <a href="#comments">Comments</a>
         
      </p>
    
  </header>


<div class="entry-content"><!--more-->


<p>1、MYSQL官方版下载地址（不推荐初学者使用）：<a href="http://www.mysql.com/downloads/">http://www.mysql.com/downloads/</a></p>

<pre><code>如鹏网版绿色免安装版MYSQL（推荐初学者使用）：http://pan.baidu.com/s/1c0COfGc
</code></pre>

<p>2、 常用概念</p>

<pre><code>   一般我们说的数据库是指DBMS，数据库管理系统，比如“你用了什么数据库”，“你会用什么数据库”,”你把数据库删了”。前两个是DBMS，第三个是指的是真实的数据
</code></pre>

<p>库（database）：众多事物的集合
表(table)：就是一类事物的集合
列(column)：某类事物的具体的字段。也叫做字段。</p>

<p>3.解压后运行 mysql文件夹下的mysqld.exe,启动mysql服务器
4.运行mysql
C:\mysql\bin>mysql-uroot –proot
复制代码</p>

<p>5:显示当前所有的仓库</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">show</span> <span class="k">databases</span><span class="p">;</span>
</span><span class='line'><span class="o">+--------------------+</span>
</span><span class='line'><span class="o">|</span> <span class="k">Database</span>           <span class="o">|</span>
</span><span class='line'><span class="o">+--------------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">information_schema</span><span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">customer</span>           <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">mysql</span>              <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">performance_schema</span><span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">study</span>              <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">t_employees</span>        <span class="o">|</span>
</span><span class='line'><span class="o">+--------------------+</span>
</span><span class='line'><span class="mi">6</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">39</span><span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>6：创建了一个database</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">create</span> <span class="k">database</span> <span class="n">test</span><span class="p">;</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="nf">rowaffected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">10</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>7:真的有了test</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">show</span> <span class="k">databases</span><span class="p">;</span>
</span><span class='line'><span class="o">+--------------------+</span>
</span><span class='line'><span class="o">|</span> <span class="k">Database</span>           <span class="o">|</span>
</span><span class='line'><span class="o">+--------------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">information_schema</span><span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">customer</span>           <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">mysql</span>              <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">performance_schema</span><span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">study</span>              <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">t_employees</span>        <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">test</span>               <span class="o">|</span>
</span><span class='line'><span class="o">+--------------------+</span>
</span></code></pre></td></tr></table></div></figure>


<p>8：使用test库</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">use</span> <span class="n">test</span><span class="p">;</span>
</span><span class='line'><span class="k">Database</span> <span class="n">changed</span>
</span></code></pre></td></tr></table></div></figure>


<p>9：显示表格，一个表格都没有</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">show</span> <span class="kp">tables</span><span class="p">;</span>
</span><span class='line'><span class="n">Empty</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">04</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>10：创建表格
主键：primary key 一般一张表一个主键，且该主键一般是没有任何的物理意义或者业务意义的数字，比如身份证ID
Auto_increment:自增长的好处，是可以不必设置该列的值，自动增长（自动增长的步数一般为1，也可以更改，show variables like ‘%auto_inc%’查询如何设置。）
Engine:一把是设置为innodb，也可以有其他的比如myisam，memory等
Not null：是比较好的设计表的方式，据说可以加快表的索引速度，表示非空</p>

<p>Default:  默认 表示默认值 一般是default value;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">create</span> <span class="k">table</span> <span class="nf">apple</span><span class="p">(</span>
</span><span class='line'>    <span class="o">-&gt;</span> <span class="n">id</span> <span class="kt">int</span> <span class="kp">auto_increment</span> <span class="k">primary</span> <span class="k">key</span><span class="p">,</span>
</span><span class='line'>    <span class="o">-&gt;</span> <span class="n">name</span> <span class="kt">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="k">not</span> <span class="no">null</span> <span class="k">default</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="kp">engine</span> <span class="o">=</span> <span class="n">innodb</span><span class="p">;</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="nf">rowsaffected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">69</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>10：的确是有了一张apple表</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">show</span> <span class="kp">tables</span><span class="p">;</span>
</span><span class='line'><span class="o">+----------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">Tables_in_test</span> <span class="o">|</span>
</span><span class='line'><span class="o">+----------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">apple</span>          <span class="o">|</span>
</span><span class='line'><span class="o">+----------------+</span>
</span><span class='line'><span class="mi">1</span> <span class="n">row</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>11：查看apple表结构</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">desc</span> <span class="n">apple</span><span class="p">;</span>
</span><span class='line'><span class="o">+-------+-------------+------+-----+---------+----------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">Field</span> <span class="o">|</span> <span class="n">Type</span>        <span class="o">|</span> <span class="no">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span> <span class="o">|</span> <span class="n">Extra</span>          <span class="o">|</span>
</span><span class='line'><span class="o">+-------+-------------+------+-----+---------+----------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">id</span>    <span class="o">|</span> <span class="kt">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>     <span class="o">|</span> <span class="n">NO</span>  <span class="o">|</span> <span class="n">PRI</span> <span class="o">|</span> <span class="no">NULL</span>    <span class="o">|</span> <span class="kp">auto_increment</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">name</span>  <span class="o">|</span> <span class="kt">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="o">|</span> <span class="n">NO</span>   <span class="o">|</span>    <span class="o">|</span>         <span class="o">|</span>                <span class="o">|</span>
</span><span class='line'><span class="o">+-------+-------------+------+-----+---------+----------------+</span>
</span><span class='line'><span class="mi">2</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">09</span><span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>类似的查看方式1：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">explain</span> <span class="n">apple</span><span class="p">;</span>
</span><span class='line'><span class="o">+-------+-------------+------+-----+---------+----------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">Field</span> <span class="o">|</span> <span class="n">Type</span>        <span class="o">|</span> <span class="no">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span> <span class="o">|</span> <span class="n">Extra</span>          <span class="o">|</span>
</span><span class='line'><span class="o">+-------+-------------+------+-----+---------+----------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">id</span>    <span class="o">|</span> <span class="kt">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>     <span class="o">|</span> <span class="n">NO</span>  <span class="o">|</span> <span class="n">PRI</span> <span class="o">|</span> <span class="no">NULL</span>    <span class="o">|</span> <span class="kp">auto_increment</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">name</span>  <span class="o">|</span> <span class="kt">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="o">|</span> <span class="n">NO</span>   <span class="o">|</span>    <span class="o">|</span>         <span class="o">|</span>                <span class="o">|</span>
</span><span class='line'><span class="o">+-------+-------------+------+-----+---------+----------------+</span>
</span><span class='line'><span class="mi">2</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>类似的查看方式2：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">show</span> <span class="n">columns</span> <span class="k">from</span> <span class="n">apple</span><span class="p">;</span>
</span><span class='line'><span class="o">+-------+-------------+------+-----+---------+----------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">Field</span> <span class="o">|</span> <span class="n">Type</span>        <span class="o">|</span> <span class="no">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span> <span class="o">|</span> <span class="n">Extra</span>          <span class="o">|</span>
</span><span class='line'><span class="o">+-------+-------------+------+-----+---------+----------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">id</span>    <span class="o">|</span> <span class="kt">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>     <span class="o">|</span> <span class="n">NO</span>  <span class="o">|</span> <span class="n">PRI</span> <span class="o">|</span> <span class="no">NULL</span>    <span class="o">|</span> <span class="kp">auto_increment</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">name</span>  <span class="o">|</span> <span class="kt">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="o">|</span> <span class="n">NO</span>   <span class="o">|</span>    <span class="o">|</span>         <span class="o">|</span>                <span class="o">|</span>
</span><span class='line'><span class="o">+-------+-------------+------+-----+---------+----------------+</span>
</span><span class='line'><span class="mi">2</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>最本质的查看表结构的方式：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">show</span> <span class="k">create</span> <span class="k">table</span> <span class="n">apple</span><span class="err">\</span><span class="n">G</span><span class="p">;</span>
</span><span class='line'><span class="o">***************************</span><span class="mi">1</span><span class="p">.</span> <span class="n">row</span> <span class="o">***************************</span>
</span><span class='line'>       <span class="k">Table</span><span class="p">:</span> <span class="n">apple</span>
</span><span class='line'><span class="k">Create</span> <span class="k">Table</span><span class="p">:</span> <span class="n">CREATETABLE</span> <span class="ss">`apple`</span> <span class="p">(</span>
</span><span class='line'>  <span class="ss">`id`</span> <span class="kt">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="k">NOT</span> <span class="no">NULL</span> <span class="kp">AUTO_INCREMENT</span><span class="p">,</span>
</span><span class='line'>  <span class="ss">`name`</span> <span class="kt">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="k">NOT</span> <span class="no">NULL</span> <span class="k">DEFAULT</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'>  <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="ss">`id`</span><span class="p">)</span>
</span><span class='line'><span class="p">)</span> <span class="kp">ENGINE</span><span class="o">=</span><span class="n">InnoDBDEFAULT</span> <span class="kp">CHARSET</span><span class="o">=</span><span class="n">latin1</span>
</span><span class='line'><span class="mi">1</span> <span class="n">row</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="n">sec</span><span class="p">)</span>
</span><span class='line'><span class="n">ERROR</span><span class="p">:</span>
</span><span class='line'><span class="n">No</span> <span class="n">query</span> <span class="n">specified</span>
</span></code></pre></td></tr></table></div></figure>


<p>13插入表数据</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">apple</span> <span class="k">values</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;tab&#39;</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;ctrl&#39;</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="s1">&#39;shift&#39;</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">3</span> <span class="nf">rowsaffected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">39</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'><span class="n">Records</span><span class="p">:</span> <span class="mi">3</span>  <span class="n">Duplicates</span><span class="p">:</span> <span class="mi">0</span> <span class="n">Warnings</span><span class="p">:</span> <span class="mi">0</span>
</span></code></pre></td></tr></table></div></figure>


<p>14 查看表数据</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span><span class="k">from</span> <span class="n">apple</span><span class="p">;</span>
</span><span class='line'><span class="o">+----+-------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">name</span>  <span class="o">|</span>
</span><span class='line'><span class="o">+----+-------+</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span> <span class="n">tab</span>  <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span> <span class="n">ctrl</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span> <span class="n">shift</span> <span class="o">|</span>
</span><span class='line'><span class="o">+----+-------+</span>
</span><span class='line'><span class="mi">3</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>15 插入数据</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="nf">apple</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="n">name</span><span class="p">)</span> <span class="k">values</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="s1">&#39;caps&#39;</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="nf">rowaffected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">08</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="n">intoapple</span> <span class="k">values</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="s1">&#39;tomato&#39;</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="nf">rowaffected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">09</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>为什么这种方式不行呢？ 正在查</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">apple</span> <span class="k">values</span> <span class="p">(</span><span class="s1">&#39;tomato&#39;</span><span class="p">);</span>
</span><span class='line'><span class="n">ERROR</span> <span class="mi">1136</span> <span class="p">(</span><span class="mi">21</span><span class="n">S01</span><span class="p">):</span><span class="k">Column</span> <span class="n">count</span> <span class="n">doesn</span><span class="s1">&#39;t match value count at row 1</span>
</span><span class='line'><span class="s1">利用mysql的最佳工具help</span>
</span><span class='line'><span class="s1">mysql&gt; helpauto_increment;</span>
</span><span class='line'><span class="s1">Name:&#39;</span><span class="kp">AUTO_INCREMENT</span><span class="s1">&#39;</span>
</span><span class='line'><span class="s1">Description: ….</span>
</span><span class='line'><span class="s1">Examples:</span>
</span><span class='line'><span class="s1">CREATE TABLE animals(</span>
</span><span class='line'><span class="s1">     id MEDIUMINT NOT NULL AUTO_INCREMENT,</span>
</span><span class='line'><span class="s1">     name CHAR(30) NOT NULL,</span>
</span><span class='line'><span class="s1">     PRIMARY KEY (id)</span>
</span><span class='line'><span class="s1">);</span>
</span><span class='line'><span class="s1">INSERT INTO animals(name) VALUES</span>
</span><span class='line'><span class="s1">    (&#39;</span><span class="n">dog</span><span class="s1">&#39;),(&#39;</span><span class="n">cat</span><span class="s1">&#39;),(&#39;</span><span class="n">penguin</span><span class="s1">&#39;),</span>
</span><span class='line'><span class="s1">(&#39;</span><span class="n">lax</span><span class="s1">&#39;),(&#39;</span><span class="n">whale</span><span class="s1">&#39;),(&#39;</span><span class="n">ostrich</span><span class="err">&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>所以解决方法是：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="nf">apple</span> <span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">values</span><span class="p">(</span><span class="s2">&quot;backspace&quot;</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="nf">rowaffected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">10</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">apple</span><span class="p">;</span>
</span><span class='line'><span class="o">+----+-----------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">name</span>      <span class="o">|</span>
</span><span class='line'><span class="o">+----+-----------+</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span> <span class="n">tab</span>       <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span> <span class="n">ctrl</span>      <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span> <span class="n">shift</span>     <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span> <span class="n">caps</span>      <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">6</span> <span class="o">|</span> <span class="n">tomato</span>    <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">7</span> <span class="o">|</span> <span class="n">backspace</span> <span class="o">|</span>
</span><span class='line'><span class="o">+----+-----------+</span>
</span><span class='line'><span class="mi">6</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>16:无意中添加了一行没有必要的数据</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="nf">apple</span> <span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">values</span><span class="p">(</span><span class="s2">&quot;luanqibazhao&quot;</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">11</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">apple</span><span class="p">;</span>
</span><span class='line'><span class="o">+----+--------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">name</span>         <span class="o">|</span>
</span><span class='line'><span class="o">+----+--------------+</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span> <span class="n">tab</span>          <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span> <span class="n">ctrl</span>         <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span> <span class="n">shift</span>        <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span> <span class="n">caps</span>         <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">6</span> <span class="o">|</span> <span class="n">tomato</span>       <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">7</span> <span class="o">|</span> <span class="n">backspace</span>    <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">8</span> <span class="o">|</span> <span class="n">luanqibazhao</span> <span class="o">|</span>
</span><span class='line'><span class="o">+----+--------------+</span>
</span><span class='line'><span class="mi">7</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>17：删掉id=8的数据</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">delete</span> <span class="o">*</span> <span class="k">from</span> <span class="n">apple</span> <span class="k">where</span> <span class="n">id</span><span class="o">=</span><span class="mi">8</span> <span class="n">andname</span><span class="o">=</span><span class="s2">&quot;luanqibazhao&quot;</span><span class="p">;</span>
</span><span class='line'><span class="n">ERROR</span> <span class="mi">1064</span> <span class="p">(</span><span class="mi">42000</span><span class="p">):</span> <span class="n">You</span> <span class="n">have</span> <span class="n">an</span> <span class="n">error</span> <span class="k">in</span> <span class="n">your</span> <span class="k">SQL</span> <span class="n">syntax</span><span class="p">;</span> <span class="k">check</span> <span class="n">themanual</span> <span class="n">that</span>
</span><span class='line'><span class="n">corresponds</span> <span class="k">to</span> <span class="n">your</span> <span class="n">MySQL</span> <span class="n">server</span> <span class="n">version</span> <span class="k">for</span> <span class="n">the</span> <span class="k">right</span> <span class="n">syntax</span> <span class="k">to</span> <span class="n">usenear</span> <span class="s1">&#39;* fro</span>
</span><span class='line'><span class="s1">m apple where id=8 and name=&quot;luanqibazhao&quot;&#39;</span> <span class="n">at</span> <span class="n">line</span> <span class="mi">1</span>
</span></code></pre></td></tr></table></div></figure>


<p>为什么不行？
查看帮助</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">help</span> <span class="k">delete</span><span class="p">;</span>
</span><span class='line'><span class="n">Name</span><span class="p">:</span> <span class="s1">&#39;DELETE&#39;</span>
</span><span class='line'><span class="n">Description</span><span class="p">:</span>
</span><span class='line'><span class="n">Syntax</span><span class="p">:</span>
</span><span class='line'><span class="k">DELETE</span> <span class="k">is</span> <span class="n">a</span> <span class="n">DML</span> <span class="n">statement</span> <span class="n">that</span> <span class="n">removes</span> <span class="n">rows</span> <span class="k">from</span> <span class="n">a</span> <span class="k">table</span><span class="p">.</span>
</span><span class='line'><span class="n">Single</span><span class="o">-</span><span class="k">Table</span> <span class="n">Syntax</span>
</span><span class='line'><span class="k">DELETE</span> <span class="p">[</span><span class="k">LOW_PRIORITY</span><span class="p">]</span> <span class="p">[</span><span class="n">QUICK</span><span class="p">]</span> <span class="p">[</span><span class="k">IGNORE</span><span class="p">]</span> <span class="k">FROM</span> <span class="n">tbl_name</span>
</span><span class='line'>    <span class="p">[</span><span class="nf">PARTITION</span><span class="p">(</span><span class="n">partition_name</span><span class="p">,...)]</span>
</span><span class='line'>    <span class="p">[</span><span class="k">WHERE</span> <span class="n">where_condition</span><span class="p">]</span>
</span><span class='line'>    <span class="p">[</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="p">...]</span>
</span><span class='line'><span class="p">[</span><span class="k">LIMIT</span> <span class="n">row_count</span><span class="p">]</span>
</span><span class='line'><span class="n">The</span> <span class="k">DELETE</span> <span class="n">statement</span> <span class="n">deletes</span> <span class="n">rows</span> <span class="n">fromtbl_name</span> <span class="k">and</span> <span class="n">returns</span> <span class="n">the</span> <span class="n">number</span>
</span><span class='line'><span class="n">of</span> <span class="n">deleted</span> <span class="n">rows</span><span class="p">.</span> <span class="k">To</span> <span class="k">check</span> <span class="n">the</span> <span class="n">number</span> <span class="n">ofdeleted</span> <span class="n">rows</span><span class="p">,</span> <span class="k">call</span> <span class="n">the</span>
</span><span class='line'><span class="nf">ROW_COUNT</span><span class="p">()</span> <span class="n">function</span> <span class="n">describedin</span>
</span></code></pre></td></tr></table></div></figure>


<p>原来是语法错误</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">delete</span> <span class="k">from</span> <span class="n">apple</span> <span class="k">where</span> <span class="n">id</span><span class="o">=</span><span class="mi">8</span> <span class="n">andname</span><span class="o">=</span><span class="s2">&quot;luanqibazhao&quot;</span><span class="p">;</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">11</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>真的删掉了！</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">apple</span><span class="p">;</span>
</span><span class='line'><span class="o">+----+-----------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">name</span>      <span class="o">|</span>
</span><span class='line'><span class="o">+----+-----------+</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span><span class="n">tab</span>       <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span><span class="n">ctrl</span>      <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span><span class="n">shift</span>     <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span><span class="n">caps</span>      <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">6</span> <span class="o">|</span><span class="n">tomato</span>    <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">7</span> <span class="o">|</span><span class="n">backspace</span> <span class="o">|</span>
</span><span class='line'><span class="o">+----+-----------+</span>
</span><span class='line'><span class="mi">6</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>18.有时候我们还想着更新某个id的值</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">update</span> <span class="n">apple</span> <span class="kt">set</span> <span class="n">name</span><span class="o">=</span><span class="n">caps1</span> <span class="k">from</span> <span class="n">id</span><span class="o">=</span><span class="mi">4</span><span class="p">;</span>
</span><span class='line'><span class="n">ERROR</span> <span class="mi">1064</span> <span class="p">(</span><span class="mi">42000</span><span class="p">):</span> <span class="n">You</span> <span class="n">have</span> <span class="n">an</span> <span class="n">error</span> <span class="k">in</span> <span class="n">yourSQL</span> <span class="n">syntax</span><span class="p">;</span> <span class="k">check</span> <span class="n">the</span> <span class="n">manual</span> <span class="n">that</span>
</span><span class='line'><span class="n">corresponds</span> <span class="k">to</span> <span class="n">your</span> <span class="n">MySQL</span> <span class="n">server</span> <span class="n">version</span> <span class="n">forthe</span> <span class="k">right</span> <span class="n">syntax</span> <span class="k">to</span> <span class="k">use</span> <span class="n">near</span> <span class="s1">&#39;from</span>
</span><span class='line'><span class="s1">id =4&#39;</span> <span class="n">at</span> <span class="n">line</span> <span class="mi">1</span>
</span></code></pre></td></tr></table></div></figure>


<p>为什么报错呢？可以使用show errors 查看报错信息类似的show warnings;</p>

<p>查询帮助：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">help</span>  <span class="k">update</span>
</span><span class='line'><span class="n">Name</span><span class="p">:</span> <span class="s1">&#39;UPDATE&#39;</span>
</span><span class='line'><span class="n">Description</span><span class="p">:</span>
</span><span class='line'><span class="n">Syntax</span><span class="p">:</span>
</span><span class='line'><span class="n">Single</span><span class="o">-</span><span class="k">table</span> <span class="n">syntax</span><span class="p">:</span>
</span><span class='line'><span class="k">UPDATE</span> <span class="p">[</span><span class="k">LOW_PRIORITY</span><span class="p">]</span> <span class="p">[</span><span class="k">IGNORE</span><span class="p">]</span><span class="n">table_reference</span>
</span><span class='line'>    <span class="n">SETcol_name1</span><span class="o">=</span><span class="err">{</span><span class="n">expr1</span><span class="o">|</span><span class="k">DEFAULT</span><span class="err">}</span> <span class="p">[,</span> <span class="n">col_name2</span><span class="o">=</span><span class="err">{</span><span class="n">expr2</span><span class="o">|</span><span class="k">DEFAULT</span><span class="err">}</span><span class="p">]</span> <span class="p">...</span>
</span><span class='line'>   <span class="p">[</span><span class="k">WHERE</span> <span class="n">where_condition</span><span class="p">]</span>
</span><span class='line'>   <span class="p">[</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="p">...]</span>
</span><span class='line'>   <span class="p">[</span><span class="k">LIMIT</span> <span class="n">row_count</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>帮助中显示并没有from的后缀，于是把from改为where，然后再让caps1加上单引号。
第一个错误修正加上单引号
第二个错误修正 from改为where</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">update</span> <span class="n">apple</span> <span class="kt">set</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;caps1&#39;</span> <span class="n">whereid</span> <span class="o">=</span><span class="mi">4</span><span class="p">;</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">16</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'><span class="n">Rows</span> <span class="n">matched</span><span class="p">:</span> <span class="mi">1</span>  <span class="n">Changed</span><span class="p">:</span> <span class="mi">1</span> <span class="n">Warnings</span><span class="p">:</span> <span class="mi">0</span>
</span></code></pre></td></tr></table></div></figure>


<p>到这边为止，是全套的mysql的常用基本指令，包含建库，建表，插入表数据，删除表数据，更新表数据，查询库，查询表，查询表数据。当然可能少了清空表数据（truncate table apple）删除表（drop table apple）,删除库（drop database test）</p>

<p>有时候我们可能修改表的结构</p>

<p>于是我们首先查询表，并增加了一个age字段，该字段是什么数据类型？　保证数据存储，并高效。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">desc</span> <span class="n">apple</span><span class="p">;</span>
</span><span class='line'><span class="o">+-------+-------------+------+-----+---------+----------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">Field</span> <span class="o">|</span> <span class="n">Type</span>        <span class="o">|</span> <span class="no">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span> <span class="o">|</span> <span class="n">Extra</span>          <span class="o">|</span>
</span><span class='line'><span class="o">+-------+-------------+------+-----+---------+----------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">id</span>    <span class="o">|</span> <span class="kt">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>     <span class="o">|</span> <span class="n">NO</span>   <span class="o">|</span> <span class="n">PRI</span> <span class="o">|</span> <span class="no">NULL</span>    <span class="o">|</span> <span class="kp">auto_increment</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">name</span>  <span class="o">|</span> <span class="kt">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="o">|</span> <span class="n">NO</span>   <span class="o">|</span>     <span class="o">|</span>         <span class="o">|</span>                <span class="o">|</span>
</span><span class='line'><span class="o">+-------+-------------+------+-----+---------+----------------+</span>
</span></code></pre></td></tr></table></div></figure>


<p>小姐了如下的整形数据的设计考虑：
分为两类一类是精准数值类型，另一类为非精准型
包含整数和小数</p>

<p>TinyInt :(-128-127  或者unsigned 是  0-256)</p>

<pre><code>       一般用于  Age 年龄字段（树的年龄可能过大
</code></pre>

<p>SmallInt：具体的数值范围可以用help smallint查到</p>

<pre><code>     一般用于技能值
      ids
</code></pre>

<p>mediumint  一般用于   Auto_increment</p>

<pre><code>                  Row number 行数是够的！！
                行数一般也是1600行  最大的暂时有做到8亿，但是数据一大会影响
                到mysql的存储问题，所以一般是分库分表
</code></pre>

<p>int(integer) ：</p>

<pre><code>       一般用于  Auto_increment
                比如  money  ， salary 就够了（游戏当中的钱　通常会较大）
</code></pre>

<p>BigInt  : 一般用于科学计算</p>

<pre><code>         人口数 Population
</code></pre>

<p>精准性有一类比较特殊的DECIMAL(DEC)
DECIMAL(f,g)   f表示总的位数  g表示小数点后的位数
比如   money DECIMAL(12,2)</p>

<pre><code>       那么存储会消耗  整数部分：（12-2）  = 9(==4个字节 规定 ) + 1/2 =5
                       小数部分： 2/2 = 1
                           总消耗： 5+1  =6 个字节
</code></pre>

<p>非精准型：
Float(p)
Real  p表示precise
DOUBLE PRECISE</p>

<p>于是我们选择age 字段为tinyint即可。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">alter</span> <span class="k">table</span> <span class="n">apple</span> <span class="k">add</span> <span class="n">age</span> <span class="kt">tinyint</span> <span class="k">not</span> <span class="no">null</span> <span class="k">default</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">89</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'><span class="n">Records</span><span class="p">:</span> <span class="mi">0</span>  <span class="n">Duplicates</span><span class="p">:</span> <span class="mi">0</span>  <span class="n">Warnings</span><span class="p">:</span> <span class="mi">0</span>
</span></code></pre></td></tr></table></div></figure>


<p>再次查询表结构</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">desc</span> <span class="n">apple</span><span class="p">;</span>
</span><span class='line'><span class="o">+-------+-------------+------+-----+---------+----------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">Field</span> <span class="o">|</span> <span class="n">Type</span>        <span class="o">|</span> <span class="no">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span> <span class="o">|</span> <span class="n">Extra</span>          <span class="o">|</span>
</span><span class='line'><span class="o">+-------+-------------+------+-----+---------+----------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">id</span>    <span class="o">|</span> <span class="kt">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>     <span class="o">|</span> <span class="n">NO</span>   <span class="o">|</span> <span class="n">PRI</span> <span class="o">|</span> <span class="no">NULL</span>    <span class="o">|</span> <span class="kp">auto_increment</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">name</span>  <span class="o">|</span> <span class="kt">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="o">|</span> <span class="n">NO</span>   <span class="o">|</span>     <span class="o">|</span>         <span class="o">|</span>                <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">age</span>   <span class="o">|</span> <span class="kt">tinyint</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>  <span class="o">|</span> <span class="n">NO</span>   <span class="o">|</span>     <span class="o">|</span> <span class="mi">0</span>       <span class="o">|</span>                <span class="o">|</span>
</span><span class='line'><span class="o">+-------+-------------+------+-----+---------+----------------+</span>
</span><span class='line'><span class="mi">3</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">05</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>查询表数据：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">apple</span><span class="p">;</span>
</span><span class='line'><span class="o">+----+-----------+-----+</span>
</span><span class='line'><span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">name</span>      <span class="o">|</span> <span class="n">age</span> <span class="o">|</span>
</span><span class='line'><span class="o">+----+-----------+-----+</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span> <span class="n">tab</span>       <span class="o">|</span>   <span class="mi">0</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span> <span class="n">ctrl</span>      <span class="o">|</span>   <span class="mi">0</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span> <span class="n">shift</span>     <span class="o">|</span>   <span class="mi">0</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span> <span class="n">caps1</span>     <span class="o">|</span>   <span class="mi">0</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">6</span> <span class="o">|</span> <span class="n">tomato</span>    <span class="o">|</span>   <span class="mi">0</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">7</span> <span class="o">|</span> <span class="n">backspace</span> <span class="o">|</span>   <span class="mi">0</span> <span class="o">|</span>
</span><span class='line'><span class="o">+----+-----------+-----+</span>
</span><span class='line'><span class="mi">6</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>有时候我们可能修改表的结构
于是我们首先查询表，并增加了一个age字段，该字段是什么数据类型，才能保证更加高效。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">desc</span> <span class="n">apple</span><span class="p">;</span>
</span><span class='line'><span class="o">+-------+-------------+------+-----+---------+----------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">Field</span> <span class="o">|</span> <span class="n">Type</span>        <span class="o">|</span> <span class="no">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span> <span class="o">|</span> <span class="n">Extra</span>          <span class="o">|</span>
</span><span class='line'><span class="o">+-------+-------------+------+-----+---------+----------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">id</span>    <span class="o">|</span> <span class="kt">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>     <span class="o">|</span> <span class="n">NO</span>   <span class="o">|</span> <span class="n">PRI</span> <span class="o">|</span> <span class="no">NULL</span>    <span class="o">|</span> <span class="kp">auto_increment</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">name</span>  <span class="o">|</span> <span class="kt">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="o">|</span> <span class="n">NO</span>   <span class="o">|</span>     <span class="o">|</span>         <span class="o">|</span>                <span class="o">|</span>
</span><span class='line'><span class="o">+-------+-------------+------+-----+---------+----------------+</span>
</span></code></pre></td></tr></table></div></figure>


<p>分为两类一类是精准数值类型，另一类为非精准型</p>

<p>包含整数和小数</p>

<p>设计考虑：</p>

<p>TinyInt :(-128-127  或者unsigned 是   0-256)</p>

<pre><code>       一般用于  Age  年龄字段（树的年龄可能过大
</code></pre>

<p>SmallInt：（可以查询help smallint 来查看数值范围）</p>

<pre><code>     一般用于技能值

      ids
</code></pre>

<p>mediumint  一般用于    Auto_increment</p>

<pre><code>                  Row number  行数是够的！！

                行数一般也是1600行  最大的暂时有做到8亿，但是数据一大会影响

                到mysql的存储问题，所以一般是分库分表
</code></pre>

<p>int(integer) ：</p>

<pre><code>       一般用于   Auto_increment

                比如   money   salary 就够了
</code></pre>

<p>BigInt  : 一般用于科学计算</p>

<pre><code>         人口数 Population
</code></pre>

<p>精准性有一类比较特殊的DECIMAL(DEC)</p>

<p>DECIMAL(f,g)   f表示总的位数  g表示小数点后的位数</p>

<p>比如    money DECIMAL(12,2)</p>

<pre><code>       那么存储会消耗  整数部分：（12-2）  =  9(==4个字节 规定 ) + 1/2 =5

                       小数部分： 2/2 = 1

                           总消耗： 5+1   =6 个字节
</code></pre>

<p>非精准型：</p>

<p>Float(p)</p>

<p>Real  p表示precise</p>

<p>DOUBLE PRECISE</p>

<p>于是我们选择age 字段为tinyint即可。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">alter</span> <span class="k">table</span> <span class="n">apple</span> <span class="k">add</span> <span class="n">age</span> <span class="kt">tinyint</span> <span class="k">not</span> <span class="no">null</span> <span class="k">default</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">89</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'><span class="n">Records</span><span class="p">:</span> <span class="mi">0</span>  <span class="n">Duplicates</span><span class="p">:</span> <span class="mi">0</span>  <span class="n">Warnings</span><span class="p">:</span> <span class="mi">0</span>
</span></code></pre></td></tr></table></div></figure>


<p>再次查询表结构</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">desc</span> <span class="n">apple</span><span class="p">;</span>
</span><span class='line'><span class="o">+-------+-------------+------+-----+---------+----------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">Field</span> <span class="o">|</span> <span class="n">Type</span>        <span class="o">|</span> <span class="no">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span> <span class="o">|</span> <span class="n">Extra</span>          <span class="o">|</span>
</span><span class='line'><span class="o">+-------+-------------+------+-----+---------+----------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">id</span>    <span class="o">|</span> <span class="kt">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>     <span class="o">|</span> <span class="n">NO</span>   <span class="o">|</span> <span class="n">PRI</span> <span class="o">|</span> <span class="no">NULL</span>    <span class="o">|</span> <span class="kp">auto_increment</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">name</span>  <span class="o">|</span> <span class="kt">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="o">|</span> <span class="n">NO</span>   <span class="o">|</span>     <span class="o">|</span>         <span class="o">|</span>                <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">age</span>   <span class="o">|</span> <span class="kt">tinyint</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>  <span class="o">|</span> <span class="n">NO</span>   <span class="o">|</span>     <span class="o">|</span> <span class="mi">0</span>       <span class="o">|</span>                <span class="o">|</span>
</span><span class='line'><span class="o">+-------+-------------+------+-----+---------+----------------+</span>
</span><span class='line'><span class="mi">3</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">05</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>查询结果：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">apple</span><span class="p">;</span>
</span><span class='line'><span class="o">+----+-----------+-----+</span>
</span><span class='line'><span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">name</span>      <span class="o">|</span> <span class="n">age</span> <span class="o">|</span>
</span><span class='line'><span class="o">+----+-----------+-----+</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span> <span class="n">tab</span>       <span class="o">|</span>   <span class="mi">0</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span> <span class="n">ctrl</span>      <span class="o">|</span>   <span class="mi">0</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span> <span class="n">shift</span>     <span class="o">|</span>   <span class="mi">0</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span> <span class="n">caps1</span>     <span class="o">|</span>   <span class="mi">0</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">6</span> <span class="o">|</span> <span class="n">tomato</span>    <span class="o">|</span>   <span class="mi">0</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">7</span> <span class="o">|</span> <span class="n">backspace</span> <span class="o">|</span>   <span class="mi">0</span> <span class="o">|</span>
</span><span class='line'><span class="o">+----+-----------+-----+</span>
</span><span class='line'><span class="mi">6</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>char与varchar的比较
分两个部分进行比较
1:创建表时候
2:添加表数据的时候</p>

<p>查看help帮助信息</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">help</span> <span class="kt">char</span>
</span><span class='line'><span class="n">Name</span><span class="p">:</span> <span class="s1">&#39;CHAR&#39;</span>
</span><span class='line'><span class="n">Description</span><span class="p">:</span>
</span><span class='line'><span class="p">[</span><span class="n">NATIONAL</span><span class="p">]</span> <span class="kt">CHAR</span><span class="p">[(</span><span class="n">M</span><span class="p">)]</span> <span class="p">[</span><span class="k">CHARACTER</span> <span class="kt">SET</span> <span class="n">charset_name</span><span class="p">]</span> <span class="p">[</span><span class="k">COLLATE</span>
</span><span class='line'><span class="n">collation_name</span><span class="p">]</span>
</span><span class='line'>
</span><span class='line'><span class="n">A</span> <span class="n">fixed</span><span class="o">-</span><span class="n">length</span> <span class="n">string</span> <span class="n">that</span> <span class="k">is</span> <span class="n">always</span> <span class="k">right</span><span class="o">-</span><span class="n">padded</span> <span class="k">with</span> <span class="n">spaces</span> <span class="k">to</span> <span class="n">the</span>
</span><span class='line'><span class="n">specified</span> <span class="n">length</span> <span class="k">when</span> <span class="n">stored</span><span class="p">.</span> <span class="n">M</span> <span class="n">represents</span> <span class="n">the</span> <span class="k">column</span> <span class="n">length</span> <span class="k">in</span>
</span><span class='line'><span class="n">characters</span><span class="p">.</span> <span class="n">The</span> <span class="n">range</span> <span class="n">of</span> <span class="n">M</span> <span class="k">is</span> <span class="mi">0</span> <span class="k">to</span> <span class="mi">255</span><span class="p">.</span> <span class="k">If</span> <span class="n">M</span> <span class="k">is</span> <span class="n">omitted</span><span class="p">,</span> <span class="n">the</span> <span class="n">length</span> <span class="k">is</span>
</span><span class='line'><span class="mi">1</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="o">*</span><span class="n">Note</span><span class="o">*</span><span class="p">:</span> <span class="k">Trailing</span> <span class="n">spaces</span> <span class="n">are</span> <span class="n">removed</span> <span class="k">when</span> <span class="kt">CHAR</span> <span class="k">values</span> <span class="n">are</span> <span class="n">retrieved</span>
</span><span class='line'><span class="n">unless</span> <span class="n">the</span> <span class="n">PAD_CHAR_TO_FULL_LENGTH</span> <span class="k">SQL</span> <span class="n">mode</span> <span class="k">is</span> <span class="n">enabled</span><span class="p">.</span>
</span></code></pre></td></tr></table></div></figure>


<p>sql_mode的pad_char_to_full_length,这是一个特别的模式，将会在下文列出，至于M is from 0 to 255是指char(256)会报错！</p>

<p>再次查看varchar的帮助信息</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">help</span> <span class="kt">varchar</span>
</span><span class='line'><span class="n">Name</span><span class="p">:</span> <span class="s1">&#39;VARCHAR&#39;</span>
</span><span class='line'><span class="n">Description</span><span class="p">:</span>
</span><span class='line'><span class="p">[</span><span class="n">NATIONAL</span><span class="p">]</span> <span class="kt">VARCHAR</span><span class="p">(</span><span class="n">M</span><span class="p">)</span> <span class="p">[</span><span class="k">CHARACTER</span> <span class="kt">SET</span> <span class="n">charset_name</span><span class="p">]</span> <span class="p">[</span><span class="k">COLLATE</span>
</span><span class='line'><span class="n">collation_name</span><span class="p">]</span>
</span><span class='line'>
</span><span class='line'><span class="n">A</span> <span class="n">variable</span><span class="o">-</span><span class="n">length</span> <span class="n">string</span><span class="p">.</span> <span class="n">M</span> <span class="n">represents</span> <span class="n">the</span> <span class="n">maximum</span> <span class="k">column</span> <span class="n">length</span> <span class="k">in</span>
</span><span class='line'><span class="n">characters</span><span class="p">.</span> <span class="n">The</span> <span class="n">range</span> <span class="n">of</span> <span class="n">M</span> <span class="k">is</span> <span class="mi">0</span> <span class="k">to</span> <span class="mi">65</span><span class="p">,</span><span class="mi">535</span><span class="p">.</span> <span class="n">The</span> <span class="n">effective</span> <span class="n">maximum</span> <span class="n">length</span>
</span><span class='line'><span class="n">of</span> <span class="n">a</span> <span class="kt">VARCHAR</span> <span class="k">is</span> <span class="n">subject</span> <span class="k">to</span> <span class="n">the</span> <span class="n">maximum</span> <span class="n">row</span> <span class="nf">size</span> <span class="p">(</span><span class="mi">65</span><span class="p">,</span><span class="mi">535</span> <span class="n">bytes</span><span class="p">,</span> <span class="n">which</span> <span class="k">is</span>
</span><span class='line'><span class="n">shared</span> <span class="n">among</span> <span class="k">all</span> <span class="n">columns</span><span class="p">)</span> <span class="k">and</span> <span class="n">the</span> <span class="k">character</span> <span class="kt">set</span> <span class="n">used</span><span class="p">.</span> <span class="k">For</span> <span class="n">example</span><span class="p">,</span> <span class="n">utf8</span>
</span><span class='line'><span class="n">characters</span> <span class="n">can</span> <span class="k">require</span> <span class="n">up</span> <span class="k">to</span> <span class="n">three</span> <span class="n">bytes</span> <span class="n">per</span> <span class="k">character</span><span class="p">,</span> <span class="n">so</span> <span class="n">a</span> <span class="kt">VARCHAR</span>
</span><span class='line'><span class="k">column</span> <span class="n">that</span> <span class="n">uses</span> <span class="n">the</span> <span class="n">utf8</span> <span class="k">character</span> <span class="kt">set</span> <span class="n">can</span> <span class="n">be</span> <span class="n">declared</span> <span class="k">to</span> <span class="n">be</span> <span class="n">a</span> <span class="n">maximum</span>
</span><span class='line'><span class="n">of</span> <span class="mi">21</span><span class="p">,</span><span class="mi">844</span> <span class="n">characters</span><span class="p">.</span> <span class="n">See</span>
</span></code></pre></td></tr></table></div></figure>


<p>可以看到最大长度为 65535，
并且在utf8字符的时候（也就是national varchar)的情况下，最大阴虚21844, 也就是national varchar(21845)会报错
21844*3 =65532（计算器）（可能还剩下3个字符，摆放需要的设置符）
说明当前我的版本的mysql 5.6的utf所占用的是三个字节，据说新版本的是4个字节的</p>

<p>新建一个测试的orange表</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">create</span> <span class="k">table</span> <span class="nf">orange</span><span class="p">(</span>
</span><span class='line'>    <span class="o">-&gt;</span> <span class="n">col1</span> <span class="kt">char</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="k">not</span> <span class="no">null</span> <span class="k">default</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="o">-&gt;</span> <span class="n">col2</span> <span class="kt">varchar</span><span class="p">(</span><span class="mi">65510</span><span class="p">));</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="nf">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">55</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>&mdash;-习惯的查询一下表的样式</p>

<p>新增一个varchar(100)字段做测试</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span>  <span class="k">alter</span> <span class="k">table</span> <span class="n">orange</span> <span class="k">add</span> <span class="n">col3</span> <span class="kt">varchar</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
</span><span class='line'><span class="n">ERROR</span> <span class="mi">1118</span> <span class="p">(</span><span class="mi">42000</span><span class="p">):</span> <span class="n">Row</span> <span class="n">size</span> <span class="n">too</span> <span class="n">large</span><span class="p">.</span> <span class="n">The</span> <span class="n">maximum</span> <span class="n">row</span> <span class="n">size</span> <span class="k">for</span> <span class="n">the</span> <span class="n">used</span> <span class="n">tabl</span>
</span><span class='line'><span class="n">type</span><span class="p">,</span> <span class="k">not</span> <span class="n">counting</span> <span class="n">BLOBs</span><span class="p">,</span> <span class="k">is</span> <span class="mi">65535</span><span class="p">.</span> <span class="n">This</span> <span class="n">includes</span> <span class="n">storage</span> <span class="n">overhead</span><span class="p">,</span> <span class="k">check</span> <span class="n">the</span>
</span><span class='line'><span class="n">nual</span><span class="p">.</span> <span class="n">You</span> <span class="n">have</span> <span class="k">to</span> <span class="k">change</span> <span class="n">some</span> <span class="n">columns</span> <span class="k">to</span> <span class="kt">TEXT</span> <span class="k">or</span> <span class="n">BLOBs</span>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">alter</span> <span class="k">table</span> <span class="n">orange</span> <span class="k">add</span> <span class="n">col3</span> <span class="kt">varchar</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>为什么？再添加varchar(100）则会一直报错.Maximum(varchar)=65535 现在使用了65510 ，再加上25呢？如果改为varcahr</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">alter</span> <span class="k">table</span> <span class="n">orange</span> <span class="k">add</span> <span class="n">col3</span> <span class="kt">varchar</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">85</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'><span class="n">Records</span><span class="p">:</span> <span class="mi">0</span>  <span class="n">Duplicates</span><span class="p">:</span> <span class="mi">0</span>  <span class="n">Warnings</span><span class="p">:</span> <span class="mi">0</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">alter</span> <span class="k">table</span> <span class="n">orange</span> <span class="k">add</span> <span class="n">col3</span> <span class="kt">varchar</span><span class="p">(</span><span class="mi">22</span><span class="p">);</span>
</span><span class='line'><span class="n">ERROR</span> <span class="mi">1118</span> <span class="p">(</span><span class="mi">42000</span><span class="p">):</span> <span class="n">Row</span> <span class="n">size</span> <span class="n">too</span> <span class="n">large</span><span class="p">.</span> <span class="n">The</span> <span class="n">maximum</span> <span class="n">row</span> <span class="n">size</span> <span class="k">for</span> <span class="n">the</span> <span class="n">us</span>
</span><span class='line'><span class="n">type</span><span class="p">,</span> <span class="k">not</span> <span class="n">counting</span> <span class="n">BLOBs</span><span class="p">,</span> <span class="k">is</span> <span class="mi">65535</span><span class="p">.</span> <span class="n">This</span> <span class="n">includes</span> <span class="n">storage</span> <span class="n">overhead</span><span class="p">,</span> <span class="n">che</span>
</span><span class='line'><span class="n">nual</span><span class="p">.</span> <span class="n">You</span> <span class="n">have</span> <span class="k">to</span> <span class="k">change</span> <span class="n">some</span> <span class="n">columns</span> <span class="k">to</span> <span class="kt">TEXT</span> <span class="k">or</span> <span class="n">BLOBs</span>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">alter</span> <span class="k">table</span> <span class="n">orange</span> <span class="k">add</span> <span class="n">col3</span> <span class="kt">varchar</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">69</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'><span class="n">Records</span><span class="p">:</span> <span class="mi">0</span>  <span class="n">Duplicates</span><span class="p">:</span> <span class="mi">0</span>  <span class="n">Warnings</span><span class="p">:</span> <span class="mi">0</span>
</span></code></pre></td></tr></table></div></figure>


<p>一直报错！！</p>

<p>再次显示表结构</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">desc</span> <span class="n">orange</span><span class="p">;</span>
</span><span class='line'><span class="o">+-------+----------------+------+-----+---------+-------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">Field</span> <span class="o">|</span> <span class="n">Type</span>           <span class="o">|</span> <span class="no">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span> <span class="o">|</span> <span class="n">Extra</span> <span class="o">|</span>
</span><span class='line'><span class="o">+-------+----------------+------+-----+---------+-------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">col1</span>  <span class="o">|</span> <span class="kt">char</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>        <span class="o">|</span> <span class="n">NO</span>   <span class="o">|</span>     <span class="o">|</span>         <span class="o">|</span>       <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">col2</span>  <span class="o">|</span> <span class="kt">varchar</span><span class="p">(</span><span class="mi">65510</span><span class="p">)</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="no">NULL</span>    <span class="o">|</span>       <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">col3</span>  <span class="o">|</span> <span class="kt">varchar</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>     <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="no">NULL</span>    <span class="o">|</span>       <span class="o">|</span>
</span><span class='line'><span class="o">+-------+----------------+------+-----+---------+-------+</span>
</span><span class='line'><span class="mi">3</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>为什么呢？</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">show</span> <span class="n">variables</span> <span class="k">like</span> <span class="s1">&#39;%sql_mode%&#39;</span><span class="p">;</span>
</span><span class='line'><span class="o">+---------------+-------------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">Variable_name</span> <span class="o">|</span> <span class="n">Value</span>             <span class="o">|</span>
</span><span class='line'><span class="o">+---------------+-------------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">sql_mode</span>      <span class="o">|</span> <span class="n">STRICT_ALL_TABLES</span> <span class="o">|</span>
</span><span class='line'><span class="o">+---------------+-------------------+</span>
</span><span class='line'><span class="mi">1</span> <span class="n">row</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>当前的sql模式是严格表模式，sql_mode变量特别重要，所以我进行了测试！假设我们现在改回去默认的空模式；</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="kt">set</span> <span class="n">sql_mode</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">;</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'><span class="err">复制代码</span>
</span><span class='line'><span class="err">重新创建一张香蕉表</span><span class="n">banana</span><span class="p">:</span>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">create</span> <span class="k">table</span> <span class="nf">banana</span><span class="p">(</span>
</span><span class='line'>    <span class="o">-&gt;</span> <span class="n">col1</span> <span class="kt">char</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span>
</span><span class='line'>    <span class="o">-&gt;</span> <span class="n">col2</span> <span class="kt">varchar</span><span class="p">(</span><span class="mi">65510</span><span class="p">));</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">32</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>显示表结构信息：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">desc</span> <span class="n">banana</span><span class="p">;</span>
</span><span class='line'><span class="o">+-------+----------------+------+-----+---------+-------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">Field</span> <span class="o">|</span> <span class="n">Type</span>           <span class="o">|</span> <span class="no">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span> <span class="o">|</span> <span class="n">Extra</span> <span class="o">|</span>
</span><span class='line'><span class="o">+-------+----------------+------+-----+---------+-------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">col1</span>  <span class="o">|</span> <span class="kt">char</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>        <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="no">NULL</span>    <span class="o">|</span>       <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">col2</span>  <span class="o">|</span> <span class="kt">varchar</span><span class="p">(</span><span class="mi">65510</span><span class="p">)</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="no">NULL</span>    <span class="o">|</span>       <span class="o">|</span>
</span><span class='line'><span class="o">+-------+----------------+------+-----+---------+-------+</span>
</span><span class='line'><span class="mi">2</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>发现还是会报错的：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">alter</span> <span class="k">table</span> <span class="n">banana</span> <span class="k">add</span> <span class="n">col3</span> <span class="kt">varchar</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
</span><span class='line'><span class="n">ERROR</span> <span class="mi">1118</span> <span class="p">(</span><span class="mi">42000</span><span class="p">):</span> <span class="n">Row</span> <span class="n">size</span> <span class="n">too</span> <span class="n">large</span><span class="p">.</span> <span class="n">The</span> <span class="n">maximum</span> <span class="n">row</span> <span class="n">size</span> <span class="k">for</span> <span class="n">the</span> <span class="n">used</span> <span class="n">tabl</span>
</span><span class='line'><span class="n">type</span><span class="p">,</span> <span class="k">not</span> <span class="n">counting</span> <span class="n">BLOBs</span><span class="p">,</span> <span class="k">is</span> <span class="mi">65535</span><span class="p">.</span> <span class="n">This</span> <span class="n">includes</span> <span class="n">storage</span> <span class="n">overhead</span><span class="p">,</span> <span class="k">check</span> <span class="n">the</span>
</span><span class='line'><span class="n">nual</span><span class="p">.</span> <span class="n">You</span> <span class="n">have</span> <span class="k">to</span> <span class="k">change</span> <span class="n">some</span> <span class="n">columns</span> <span class="k">to</span> <span class="kt">TEXT</span> <span class="k">or</span> <span class="n">BLOBs</span>
</span></code></pre></td></tr></table></div></figure>


<p>&mdash;-终于给我报错了</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">alter</span> <span class="k">table</span> <span class="n">orange</span> <span class="k">add</span> <span class="n">col5</span> <span class="kt">char</span><span class="p">(</span><span class="mi">258</span><span class="p">);</span>
</span><span class='line'><span class="n">ERROR</span> <span class="mi">1074</span> <span class="p">(</span><span class="mi">42000</span><span class="p">):</span> <span class="k">Column</span> <span class="n">length</span> <span class="n">too</span> <span class="n">big</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">&#39;col5&#39;</span> <span class="p">(</span><span class="n">max</span> <span class="o">=</span> <span class="mi">255</span><span class="p">);</span> <span class="k">use</span> <span class="n">BLO</span>
</span><span class='line'><span class="n">B</span> <span class="k">or</span> <span class="kt">TEXT</span> <span class="n">instead</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">alter</span> <span class="k">table</span> <span class="n">orange</span> <span class="k">add</span> <span class="n">col6</span> <span class="kt">char</span><span class="p">(</span><span class="mi">65537</span><span class="p">);</span>
</span><span class='line'><span class="n">ERROR</span> <span class="mi">1074</span> <span class="p">(</span><span class="mi">42000</span><span class="p">):</span> <span class="k">Column</span> <span class="n">length</span> <span class="n">too</span> <span class="n">big</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">&#39;col6&#39;</span> <span class="p">(</span><span class="n">max</span> <span class="o">=</span> <span class="mi">255</span><span class="p">);</span> <span class="k">use</span> <span class="n">BLO</span>
</span><span class='line'><span class="n">B</span> <span class="k">or</span> <span class="kt">TEXT</span> <span class="n">instead</span>
</span></code></pre></td></tr></table></div></figure>


<p>总结varchar最大量不能超过65530.。。char不能超过256.。。
上面是一些创建char和varchar表的时候可能会出现的一些情况。
接下来测试添加数据：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">alter</span> <span class="k">table</span> <span class="n">banana</span> <span class="n">modify</span> <span class="n">col2</span> <span class="kt">varchar</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">81</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'><span class="n">Records</span><span class="p">:</span> <span class="mi">0</span>  <span class="n">Duplicates</span><span class="p">:</span> <span class="mi">0</span>  <span class="n">Warnings</span><span class="p">:</span> <span class="mi">0</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">desc</span> <span class="n">banana</span><span class="p">;</span>
</span><span class='line'><span class="o">+-------+------------+------+-----+---------+-------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">Field</span> <span class="o">|</span> <span class="n">Type</span>       <span class="o">|</span> <span class="no">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span> <span class="o">|</span> <span class="n">Extra</span> <span class="o">|</span>
</span><span class='line'><span class="o">+-------+------------+------+-----+---------+-------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">col1</span>  <span class="o">|</span> <span class="kt">char</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>    <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="no">NULL</span>    <span class="o">|</span>       <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">col2</span>  <span class="o">|</span> <span class="kt">varchar</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="no">NULL</span>    <span class="o">|</span>       <span class="o">|</span>
</span><span class='line'><span class="o">+-------+------------+------+-----+---------+-------+</span>
</span><span class='line'><span class="mi">2</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>不是特别能够显示其中的区别：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">banana</span> <span class="k">values</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span><span class="s1">&#39;abc&#39;</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">04</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">banana</span><span class="p">;</span>
</span><span class='line'><span class="o">+--------+------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">col1</span>   <span class="o">|</span> <span class="n">col2</span> <span class="o">|</span>
</span><span class='line'><span class="o">+--------+------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">abc</span>    <span class="o">|</span> <span class="n">abc</span>  <span class="o">|</span>
</span><span class='line'><span class="o">+--------+------+</span>
</span><span class='line'><span class="mi">1</span> <span class="n">row</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>如果加入</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="nf">concat</span><span class="p">(</span><span class="n">col1</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">),</span><span class="nf">concat</span><span class="p">(</span><span class="n">col2</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">)</span> <span class="k">from</span> <span class="n">banana</span><span class="p">;</span>
</span><span class='line'><span class="o">+------------------+------------------+</span>
</span><span class='line'><span class="o">|</span> <span class="nf">concat</span><span class="p">(</span><span class="n">col1</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">)</span> <span class="o">|</span> <span class="nf">concat</span><span class="p">(</span><span class="n">col2</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">)</span> <span class="o">|</span>
</span><span class='line'><span class="o">+------------------+------------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">abc</span>   <span class="o">-</span>          <span class="o">|</span> <span class="n">abc</span><span class="o">-</span>             <span class="o">|</span>
</span><span class='line'><span class="o">+------------------+------------------+</span>
</span><span class='line'><span class="mi">1</span> <span class="n">row</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>再次比较</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="nf">length</span><span class="p">(</span><span class="n">col1</span><span class="p">),</span><span class="nf">length</span><span class="p">(</span><span class="n">col2</span><span class="p">)</span> <span class="k">from</span> <span class="n">banana</span><span class="p">;</span>
</span><span class='line'><span class="o">+--------------+--------------+</span>
</span><span class='line'><span class="o">|</span> <span class="nf">length</span><span class="p">(</span><span class="n">col1</span><span class="p">)</span> <span class="o">|</span> <span class="nf">length</span><span class="p">(</span><span class="n">col2</span><span class="p">)</span> <span class="o">|</span>
</span><span class='line'><span class="o">+--------------+--------------+</span>
</span><span class='line'><span class="o">|</span>            <span class="mi">6</span> <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span>
</span><span class='line'><span class="o">+--------------+--------------+</span>
</span><span class='line'><span class="mi">1</span> <span class="n">row</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>可见在sql_mode=pad_char_to_full_length的情况下，char即使赋的值是abc三个字符，该类型也会填充到6个字符</p>

<pre><code>  而varchar则是三个字符就三个字符
</code></pre>

<p>而如果sql_mode = &lsquo;&rsquo; 呢？</p>

<pre><code>     sql_mode ='strict_all_tables'呢？
</code></pre>

<p>如果是sql_mode= &lsquo;&rsquo;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="kt">set</span> <span class="n">sql_mode</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">;</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="nf">concat</span><span class="p">(</span><span class="n">col1</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">),</span><span class="nf">concat</span><span class="p">(</span><span class="n">col2</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">)</span> <span class="k">from</span> <span class="n">banana</span><span class="p">;</span>
</span><span class='line'><span class="o">+------------------+------------------+</span>
</span><span class='line'><span class="o">|</span> <span class="nf">concat</span><span class="p">(</span><span class="n">col1</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">)</span> <span class="o">|</span> <span class="nf">concat</span><span class="p">(</span><span class="n">col2</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">)</span> <span class="o">|</span>
</span><span class='line'><span class="o">+------------------+------------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">abc</span><span class="o">-</span>             <span class="o">|</span> <span class="n">abc</span><span class="o">-</span>             <span class="o">|</span>
</span><span class='line'><span class="o">+------------------+------------------+</span>
</span><span class='line'><span class="mi">1</span> <span class="n">row</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="nf">length</span><span class="p">(</span><span class="n">col1</span><span class="p">),</span><span class="nf">length</span><span class="p">(</span><span class="n">col2</span><span class="p">)</span> <span class="k">from</span> <span class="n">banana</span><span class="p">;</span>
</span><span class='line'><span class="o">+--------------+--------------+</span>
</span><span class='line'><span class="o">|</span> <span class="nf">length</span><span class="p">(</span><span class="n">col1</span><span class="p">)</span> <span class="o">|</span> <span class="nf">length</span><span class="p">(</span><span class="n">col2</span><span class="p">)</span> <span class="o">|</span>
</span><span class='line'><span class="o">+--------------+--------------+</span>
</span><span class='line'><span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span>
</span><span class='line'><span class="o">+--------------+--------------+</span>
</span><span class='line'><span class="mi">1</span> <span class="n">row</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>如果是sql_mode=strict_all_tables?</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="kt">set</span> <span class="n">sql_mode</span><span class="o">=</span><span class="s1">&#39;strict_all_tables&#39;</span><span class="p">;</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="nf">concat</span><span class="p">(</span><span class="n">col1</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">),</span><span class="nf">concat</span><span class="p">(</span><span class="n">col2</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">)</span> <span class="k">from</span> <span class="n">banana</span><span class="p">;</span>
</span><span class='line'><span class="o">+------------------+------------------+</span>
</span><span class='line'><span class="o">|</span> <span class="nf">concat</span><span class="p">(</span><span class="n">col1</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">)</span> <span class="o">|</span> <span class="nf">concat</span><span class="p">(</span><span class="n">col2</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">)</span> <span class="o">|</span>
</span><span class='line'><span class="o">+------------------+------------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">abc</span><span class="o">-</span>             <span class="o">|</span> <span class="n">abc</span><span class="o">-</span>             <span class="o">|</span>
</span><span class='line'><span class="o">+------------------+------------------+</span>
</span><span class='line'><span class="mi">1</span> <span class="n">row</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="nf">length</span><span class="p">(</span><span class="n">col1</span><span class="p">),</span><span class="nf">length</span><span class="p">(</span><span class="n">col2</span><span class="p">)</span> <span class="k">from</span> <span class="n">banana</span><span class="p">;</span>
</span><span class='line'><span class="o">+--------------+--------------+</span>
</span><span class='line'><span class="o">|</span> <span class="nf">length</span><span class="p">(</span><span class="n">col1</span><span class="p">)</span> <span class="o">|</span> <span class="nf">length</span><span class="p">(</span><span class="n">col2</span><span class="p">)</span> <span class="o">|</span>
</span><span class='line'><span class="o">+--------------+--------------+</span>
</span><span class='line'><span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span>
</span><span class='line'><span class="o">+--------------+--------------+</span>
</span><span class='line'><span class="mi">1</span> <span class="n">row</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>好了，我们可以小结
在pad_char_to_full_length的情况下，char会自动填充到定义的字符，而varchar不会
   在其他的sql_mode模式下，char和varchar感觉没有太大的区别
  varchar一个表的最大长度是65535
  char在一个表的最大长度是255</p>

<p>所在在存储空间允许的情况下，尽量使用char
在需要更大的文本可以用blod或者text。</p>

<p>字符串类型，一般使用char较多。
char
varchar
smallblod,mediumblod,longblod
smalltext,mediumtext,longtext</p>

<p>枚举类字段的创建是为了让用户只能选取某个值范围。
创建一个枚举表进行测试</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">create</span> <span class="k">table</span> <span class="nf">enum_t</span><span class="p">(</span>
</span><span class='line'>    <span class="o">-&gt;</span> <span class="n">col1</span> <span class="kt">enum</span><span class="p">(</span><span class="s1">&#39;F&#39;</span><span class="p">,</span><span class="s1">&#39;M&#39;</span><span class="p">,</span><span class="s1">&#39;UN&#39;</span><span class="p">));</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">29</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>插入数据：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">enum_t</span> <span class="k">values</span><span class="p">(</span><span class="s1">&#39;F&#39;</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">10</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">enum_t</span> <span class="k">values</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">06</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">enum_t</span> <span class="k">values</span><span class="p">(</span><span class="s1">&#39;F,M&#39;</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="nf">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">10</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">enum_t</span> <span class="k">values</span><span class="p">(</span><span class="s1">&#39;UN&#39;</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">07</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">enum_t</span> <span class="k">values</span><span class="p">(</span><span class="s1">&#39;F,M,UN&#39;</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="nf">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">04</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>显示数据：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">col1</span><span class="p">,</span><span class="n">col1</span><span class="o">+</span><span class="mi">0</span> <span class="k">from</span> <span class="n">enum_t</span><span class="p">;</span>
</span><span class='line'><span class="o">+------+--------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">col1</span> <span class="o">|</span> <span class="n">col1</span><span class="o">+</span><span class="mi">0</span> <span class="o">|</span>
</span><span class='line'><span class="o">+------+--------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">F</span>    <span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">M</span>    <span class="o">|</span>      <span class="mi">2</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>      <span class="o">|</span>      <span class="mi">0</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">UN</span>   <span class="o">|</span>      <span class="mi">3</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>      <span class="o">|</span>      <span class="mi">0</span> <span class="o">|</span>
</span><span class='line'><span class="o">+------+--------+</span>
</span><span class='line'><span class="mi">5</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>发现第三列和第五列的col1的字段值缺失，是因为没有在枚举类中该值！然而mysql还有另外一种类型叫做set，却是可以存在不同的情况</p>

<p>&mdash;&mdash;&mdash;再次返回到sql_mode有问题的那部分</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">desc</span> <span class="n">enum_t</span><span class="p">;</span>
</span><span class='line'><span class="o">+-------+--------------------+------+-----+---------+-------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">Field</span> <span class="o">|</span> <span class="n">Type</span>               <span class="o">|</span> <span class="no">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span> <span class="o">|</span> <span class="n">Extra</span> <span class="o">|</span>
</span><span class='line'><span class="o">+-------+--------------------+------+-----+---------+-------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">col1</span>  <span class="o">|</span> <span class="kt">enum</span><span class="p">(</span><span class="s1">&#39;F&#39;</span><span class="p">,</span><span class="s1">&#39;M&#39;</span><span class="p">,</span><span class="s1">&#39;UN&#39;</span><span class="p">)</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="no">NULL</span>    <span class="o">|</span>       <span class="o">|</span>
</span><span class='line'><span class="o">+-------+--------------------+------+-----+---------+-------+</span>
</span><span class='line'><span class="mi">1</span> <span class="n">row</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">enum_t</span> <span class="k">values</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="nf">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">09</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>&mdash;-有警告一般是和sql_mode有关，如果是strict_all_tables一般是error</p>

<p>&mdash;-让我们来看一个和enum特别像的set</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">create</span> <span class="k">table</span> <span class="nf">set_t</span><span class="p">(</span>
</span><span class='line'>    <span class="o">-&gt;</span> <span class="n">col1</span> <span class="kt">set</span><span class="p">(</span><span class="s1">&#39;F&#39;</span><span class="p">,</span><span class="s1">&#39;M&#39;</span><span class="p">,</span><span class="s1">&#39;UN&#39;</span><span class="p">));</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">25</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>插入表数据</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">set_t</span> <span class="k">values</span><span class="p">(</span><span class="s1">&#39;F&#39;</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">07</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">set_t</span> <span class="k">values</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">08</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">set_t</span> <span class="k">values</span><span class="p">(</span><span class="s1">&#39;F,M&#39;</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">08</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">set_t</span> <span class="k">values</span><span class="p">(</span><span class="s1">&#39;UN&#39;</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">05</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">set_t</span> <span class="k">values</span><span class="p">(</span><span class="s1">&#39;F,M,UN&#39;</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">07</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>显示表数据信息：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">col1</span><span class="p">,</span><span class="n">col1</span><span class="o">+</span><span class="mi">0</span> <span class="k">from</span> <span class="n">set_t</span><span class="p">;</span>
</span><span class='line'><span class="o">+--------+--------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">col1</span>   <span class="o">|</span> <span class="n">col1</span><span class="o">+</span><span class="mi">0</span> <span class="o">|</span>
</span><span class='line'><span class="o">+--------+--------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">F</span>      <span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">M</span>      <span class="o">|</span>      <span class="mi">2</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">F</span><span class="p">,</span><span class="n">M</span>    <span class="o">|</span>      <span class="mi">3</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">UN</span>     <span class="o">|</span>      <span class="mi">4</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">F</span><span class="p">,</span><span class="n">M</span><span class="p">,</span><span class="n">UN</span> <span class="o">|</span>      <span class="mi">7</span> <span class="o">|</span>
</span><span class='line'><span class="o">+--------+--------+</span>
</span><span class='line'><span class="mi">5</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>可以发现F,M虽然没有定义，但是也是可以使用！！！只要不重复都可以在set中出现，并遵循下面的计算方式：
因为在set模式下，默认存储室
F  1
M  10
UN 100
所以F,M  11</p>

<pre><code>F,M,UN 111
</code></pre>

<p>引入了二进制，于是学习了mysql特殊的一种二进制类型binary,和bit类型（bit(4) 就表示最大值为1111 也就是15）</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">help</span> <span class="k">binary</span>
</span><span class='line'><span class="n">Name</span><span class="p">:</span> <span class="s1">&#39;BINARY&#39;</span>
</span><span class='line'><span class="n">Description</span><span class="p">:</span>
</span><span class='line'><span class="k">BINARY</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">The</span> <span class="k">BINARY</span> <span class="n">type</span> <span class="k">is</span> <span class="n">similar</span> <span class="k">to</span> <span class="n">the</span> <span class="kt">CHAR</span> <span class="n">type</span><span class="p">,</span> <span class="n">but</span> <span class="n">stores</span> <span class="k">binary</span> <span class="n">byte</span>
</span><span class='line'><span class="n">strings</span> <span class="n">rather</span> <span class="n">than</span> <span class="n">nonbinary</span> <span class="k">character</span> <span class="n">strings</span><span class="p">.</span> <span class="n">M</span> <span class="n">represents</span> <span class="n">the</span>
</span><span class='line'><span class="k">column</span> <span class="n">length</span> <span class="k">in</span> <span class="n">bytes</span><span class="p">.</span>
</span></code></pre></td></tr></table></div></figure>


<p>可以看到binary类似于char只不过是存储二进制形式</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">create</span> <span class="k">table</span> <span class="nf">binary_t</span><span class="p">(</span>
</span><span class='line'>    <span class="o">-&gt;</span> <span class="n">col1</span> <span class="k">binary</span><span class="p">(</span><span class="mi">4</span><span class="p">));</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">33</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>插入数据：超过5个字节就错误了</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">desc</span> <span class="n">binary_t</span><span class="p">;</span>
</span><span class='line'><span class="o">+-------+-----------+------+-----+---------+-------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">Field</span> <span class="o">|</span> <span class="n">Type</span>      <span class="o">|</span> <span class="no">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span> <span class="o">|</span> <span class="n">Extra</span> <span class="o">|</span>
</span><span class='line'><span class="o">+-------+-----------+------+-----+---------+-------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">col1</span>  <span class="o">|</span> <span class="k">binary</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="no">NULL</span>    <span class="o">|</span>       <span class="o">|</span>
</span><span class='line'><span class="o">+-------+-----------+------+-----+---------+-------+</span>
</span><span class='line'><span class="mi">1</span> <span class="n">row</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">05</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">binary_t</span> <span class="k">values</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">07</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">binary_t</span> <span class="k">values</span><span class="p">(</span><span class="s1">&#39;abcd&#39;</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">07</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">binary_t</span> <span class="k">values</span><span class="p">(</span><span class="s1">&#39;abcde&#39;</span><span class="p">);</span>
</span><span class='line'><span class="n">ERROR</span> <span class="mi">1406</span> <span class="p">(</span><span class="mi">22001</span><span class="p">):</span> <span class="n">Data</span> <span class="n">too</span> <span class="k">long</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">&#39;col1&#39;</span> <span class="n">at</span> <span class="n">row</span> <span class="mi">1</span>
</span></code></pre></td></tr></table></div></figure>


<p>上述的过程类似于char，但是binary和char到底体现在哪里的区别？</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">binary_t</span><span class="p">;</span>
</span><span class='line'><span class="o">+------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">col1</span> <span class="o">|</span>
</span><span class='line'><span class="o">+------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">abcd</span> <span class="o">|</span>
</span><span class='line'><span class="o">+------+</span>
</span><span class='line'><span class="mi">2</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">col1</span><span class="o">=</span><span class="s1">&#39;a&#39;</span> <span class="k">from</span> <span class="n">binary_t</span><span class="p">;</span>
</span><span class='line'><span class="o">+----------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">col1</span><span class="o">=</span><span class="s1">&#39;a&#39;</span> <span class="o">|</span>
</span><span class='line'><span class="o">+----------+</span>
</span><span class='line'><span class="o">|</span>        <span class="mi">0</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>        <span class="mi">0</span> <span class="o">|</span>
</span><span class='line'><span class="o">+----------+</span>
</span><span class='line'><span class="mi">2</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>为什么明明有a却是无法找到？是不是跟sql_mode有关系？</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">show</span> <span class="n">variables</span> <span class="k">like</span> <span class="s1">&#39;%sql_mode%&#39;</span><span class="p">;</span>
</span><span class='line'><span class="o">+---------------+-------------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">Variable_name</span> <span class="o">|</span> <span class="n">Value</span>             <span class="o">|</span>
</span><span class='line'><span class="o">+---------------+-------------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">sql_mode</span>      <span class="o">|</span> <span class="n">STRICT_ALL_TABLES</span> <span class="o">|</span>
</span><span class='line'><span class="o">+---------------+-------------------+</span>
</span><span class='line'><span class="mi">1</span> <span class="n">row</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>重新设置为空状态（默认一般是空的状态），再次尝试：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">binary_t</span><span class="p">;</span>
</span><span class='line'><span class="o">+------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">col1</span> <span class="o">|</span>
</span><span class='line'><span class="o">+------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">a</span>    <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">abcd</span> <span class="o">|</span>
</span><span class='line'><span class="o">+------+</span>
</span><span class='line'><span class="mi">2</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">col1</span><span class="o">=</span><span class="s1">&#39;a&#39;</span> <span class="k">from</span> <span class="n">binary_t</span><span class="p">;</span>
</span><span class='line'><span class="o">+----------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">col1</span><span class="o">=</span><span class="s1">&#39;a&#39;</span> <span class="o">|</span>
</span><span class='line'><span class="o">+----------+</span>
</span><span class='line'><span class="o">|</span>        <span class="mi">0</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>        <span class="mi">0</span> <span class="o">|</span>
</span><span class='line'><span class="o">+----------+</span>
</span><span class='line'><span class="mi">2</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>可以看到依然不行，这就是二进制的一些小区别，不是类似于char在pad_char_to_full_length(专门针对char)
这时候需要用专门的测试方法</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">col1</span><span class="o">=</span><span class="s1">&#39;a\0\0\0&#39;</span> <span class="k">from</span> <span class="n">binary_t</span><span class="p">;</span>
</span><span class='line'><span class="o">+----------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">col1</span><span class="o">=</span><span class="s1">&#39;a\0\0\0&#39;</span> <span class="o">|</span>
</span><span class='line'><span class="o">+----------------+</span>
</span><span class='line'><span class="o">|</span>              <span class="mi">1</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>              <span class="mi">0</span> <span class="o">|</span>
</span><span class='line'><span class="o">+----------------+</span>
</span><span class='line'><span class="mi">2</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>可以了！！因为binary是为默认加上\0\0\0 ，而char在sql=&lsquo;pad_char_to_full_length&#8217;会默认加上空格。这就是一个区别，慎用，一般用char即可，
也许binary可能是存储少占空间。</p>

<p>一个特别的数据类型Bit的用法（他是一个跟计算机的最小单元bit位有关系的）
手又痒了，必须再来个bit_t不可</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">create</span> <span class="k">table</span> <span class="nf">bit_t</span><span class="p">(</span>
</span><span class='line'>    <span class="o">-&gt;</span> <span class="n">ids</span> <span class="kt">bit</span><span class="p">(</span><span class="mi">4</span><span class="p">));</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">20</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>&mdash;bit(4) y也就是说  1111  最多是，类似地int(4)  char(4) varchar(4)  binary(4)  等有着其特殊的含义<br/>
&mdash;-用严格模式测试一下</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">help</span> <span class="kt">int</span>
</span><span class='line'><span class="n">Name</span><span class="p">:</span> <span class="s1">&#39;INT&#39;</span>
</span><span class='line'><span class="n">Description</span><span class="p">:</span>
</span><span class='line'><span class="kt">INT</span><span class="p">[(</span><span class="n">M</span><span class="p">)]</span> <span class="p">[</span><span class="k">UNSIGNED</span><span class="p">]</span> <span class="p">[</span><span class="k">ZEROFILL</span><span class="p">]</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">bit_t</span> <span class="k">values</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">11</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>显示数据：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">ids</span><span class="p">,</span><span class="n">ids</span><span class="o">+</span><span class="mi">0</span><span class="p">,</span><span class="nf">bin</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span> <span class="k">from</span> <span class="n">bit_t</span><span class="p">;</span>
</span><span class='line'><span class="o">+------+-------+----------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">ids</span>  <span class="o">|</span> <span class="n">ids</span><span class="o">+</span><span class="mi">0</span> <span class="o">|</span> <span class="nf">bin</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span> <span class="o">|</span>
</span><span class='line'><span class="o">+------+-------+----------+</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span> <span class="mi">1</span>        <span class="o">|</span>
</span><span class='line'><span class="o">+------+-------+----------+</span>
</span><span class='line'><span class="mi">1</span> <span class="n">row</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">05</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>显示二进制信息一般是使用+0进行数据隐式转换，或者用bin函数；</p>

<p>&mdash;再查一下表结构</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">desc</span> <span class="n">bit_t</span><span class="p">;</span>
</span><span class='line'><span class="o">+-------+--------+------+-----+---------+-------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">Field</span> <span class="o">|</span> <span class="n">Type</span>   <span class="o">|</span> <span class="no">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span> <span class="o">|</span> <span class="n">Extra</span> <span class="o">|</span>
</span><span class='line'><span class="o">+-------+--------+------+-----+---------+-------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">ids</span>   <span class="o">|</span> <span class="kt">bit</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="no">NULL</span>    <span class="o">|</span>       <span class="o">|</span>
</span><span class='line'><span class="o">+-------+--------+------+-----+---------+-------+</span>
</span><span class='line'><span class="mi">1</span> <span class="n">row</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>再次插入表数据：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">bit_t</span> <span class="k">values</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">09</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">bit_t</span> <span class="k">values</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">09</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">bit_t</span> <span class="k">values</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">05</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>显示新的表的信息</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">ids</span><span class="p">,</span><span class="n">ids</span><span class="o">+</span><span class="mi">0</span><span class="p">,</span><span class="nf">bin</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span> <span class="k">from</span> <span class="n">bit_t</span><span class="p">;</span>
</span><span class='line'><span class="o">+------+-------+----------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">ids</span>  <span class="o">|</span> <span class="n">ids</span><span class="o">+</span><span class="mi">0</span> <span class="o">|</span> <span class="nf">bin</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span> <span class="o">|</span>
</span><span class='line'><span class="o">+------+-------+----------+</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span> <span class="mi">1</span>        <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span> <span class="mi">1</span>        <span class="o">|</span>
</span><span class='line'><span class="o">|</span>      <span class="o">|</span>     <span class="mi">0</span> <span class="o">|</span> <span class="mi">0</span>        <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>     <span class="mi">3</span> <span class="o">|</span> <span class="mi">11</span>       <span class="o">|</span>
</span><span class='line'><span class="o">+------+-------+----------+</span>
</span><span class='line'><span class="mi">4</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>当插入数据过大则报错：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">bit_t</span> <span class="k">values</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span>
</span><span class='line'><span class="n">ERROR</span> <span class="mi">1406</span> <span class="p">(</span><span class="mi">22001</span><span class="p">):</span> <span class="n">Data</span> <span class="n">too</span> <span class="k">long</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">&#39;ids&#39;</span> <span class="n">at</span> <span class="n">row</span> <span class="mi">1</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">bit_t</span> <span class="k">values</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">11</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">ids</span><span class="p">,</span><span class="n">ids</span><span class="o">+</span><span class="mi">0</span><span class="p">,</span><span class="nf">bin</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span> <span class="k">from</span> <span class="n">bit_t</span><span class="p">;</span>
</span><span class='line'><span class="o">+------+-------+----------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">ids</span>  <span class="o">|</span> <span class="n">ids</span><span class="o">+</span><span class="mi">0</span> <span class="o">|</span> <span class="nf">bin</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span> <span class="o">|</span>
</span><span class='line'><span class="o">+------+-------+----------+</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span> <span class="mi">1</span>        <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span> <span class="mi">1</span>        <span class="o">|</span>
</span><span class='line'><span class="o">|</span>      <span class="o">|</span>     <span class="mi">0</span> <span class="o">|</span> <span class="mi">0</span>        <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>     <span class="mi">3</span> <span class="o">|</span> <span class="mi">11</span>       <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>    <span class="mi">15</span> <span class="o">|</span> <span class="mi">1111</span>     <span class="o">|</span>
</span><span class='line'><span class="o">+------+-------+----------+</span>
</span><span class='line'><span class="mi">5</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>最大的的确是4个1111 满足了我们的愿望。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">ids</span><span class="p">,</span><span class="n">ids</span><span class="o">+</span><span class="mi">0</span><span class="p">,</span><span class="nf">length</span><span class="p">(</span><span class="nf">bin</span><span class="p">(</span><span class="n">ids</span><span class="p">))</span> <span class="k">from</span> <span class="n">bit_t</span><span class="p">;</span>
</span><span class='line'><span class="o">+------+-------+------------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">ids</span>  <span class="o">|</span> <span class="n">ids</span><span class="o">+</span><span class="mi">0</span> <span class="o">|</span> <span class="nf">length</span><span class="p">(</span><span class="nf">bin</span><span class="p">(</span><span class="n">ids</span><span class="p">))</span> <span class="o">|</span>
</span><span class='line'><span class="o">+------+-------+------------------+</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>                <span class="mi">1</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>                <span class="mi">1</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>      <span class="o">|</span>     <span class="mi">0</span> <span class="o">|</span>                <span class="mi">1</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>     <span class="mi">3</span> <span class="o">|</span>                <span class="mi">2</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>    <span class="mi">15</span> <span class="o">|</span>                <span class="mi">4</span> <span class="o">|</span>
</span><span class='line'><span class="o">+------+-------+------------------+</span>
</span><span class='line'><span class="mi">5</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">06</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">ids</span><span class="p">,</span><span class="n">ids</span><span class="o">+</span><span class="mi">0</span><span class="p">,</span><span class="nf">length</span><span class="p">(</span><span class="n">ids</span><span class="o">+</span><span class="mi">0</span><span class="p">),</span><span class="nf">bin</span><span class="p">(</span><span class="n">ids</span><span class="p">),</span><span class="nf">length</span><span class="p">(</span><span class="nf">bin</span><span class="p">(</span><span class="n">ids</span><span class="p">))</span> <span class="k">from</span> <span class="n">bit_t</span><span class="p">;</span>
</span><span class='line'><span class="o">+------+-------+---------------+----------+------------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">ids</span>  <span class="o">|</span> <span class="n">ids</span><span class="o">+</span><span class="mi">0</span> <span class="o">|</span> <span class="nf">length</span><span class="p">(</span><span class="n">ids</span><span class="o">+</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="nf">bin</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span> <span class="o">|</span> <span class="nf">length</span><span class="p">(</span><span class="nf">bin</span><span class="p">(</span><span class="n">ids</span><span class="p">))</span> <span class="o">|</span>
</span><span class='line'><span class="o">+------+-------+---------------+----------+------------------+</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>             <span class="mi">1</span> <span class="o">|</span> <span class="mi">1</span>        <span class="o">|</span>                <span class="mi">1</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>             <span class="mi">1</span> <span class="o">|</span> <span class="mi">1</span>        <span class="o">|</span>                <span class="mi">1</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>      <span class="o">|</span>     <span class="mi">0</span> <span class="o">|</span>             <span class="mi">1</span> <span class="o">|</span> <span class="mi">0</span>        <span class="o">|</span>                <span class="mi">1</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>     <span class="mi">3</span> <span class="o">|</span>             <span class="mi">1</span> <span class="o">|</span> <span class="mi">11</span>       <span class="o">|</span>                <span class="mi">2</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>    <span class="mi">15</span> <span class="o">|</span>             <span class="mi">2</span> <span class="o">|</span> <span class="mi">1111</span>     <span class="o">|</span>                <span class="mi">4</span> <span class="o">|</span>
</span><span class='line'><span class="o">+------+-------+---------------+----------+------------------+</span>
</span><span class='line'><span class="mi">5</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>&mdash;&mdash;-不一样的插入额</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">bit_t</span> <span class="k">values</span> <span class="p">(</span><span class="mi">4</span><span class="p">),(</span><span class="mi">5</span><span class="p">),(</span><span class="mi">6</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">3</span> <span class="n">rows</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'><span class="n">Records</span><span class="p">:</span> <span class="mi">3</span>  <span class="n">Duplicates</span><span class="p">:</span> <span class="mi">0</span>  <span class="n">Warnings</span><span class="p">:</span> <span class="mi">0</span>
</span><span class='line'>
</span><span class='line'><span class="o">----</span><span class="k">insert</span> <span class="k">into</span> <span class="n">bit_t</span>  <span class="kt">set</span> <span class="n">ids</span> <span class="o">=</span><span class="mi">4</span>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">bit_t</span> <span class="kt">set</span> <span class="n">ids</span><span class="o">=</span><span class="mi">7</span><span class="p">;</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">05</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>再次显示新的数据</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">ids</span><span class="p">,</span><span class="n">ids</span><span class="o">+</span><span class="mi">0</span><span class="p">,</span><span class="nf">length</span><span class="p">(</span><span class="n">ids</span><span class="o">+</span><span class="mi">0</span><span class="p">),</span><span class="nf">bin</span><span class="p">(</span><span class="n">ids</span><span class="p">),</span><span class="nf">length</span><span class="p">(</span><span class="nf">bin</span><span class="p">(</span><span class="n">ids</span><span class="p">))</span> <span class="k">from</span> <span class="n">bit_t</span><span class="p">;</span>
</span><span class='line'><span class="o">+------+-------+---------------+----------+------------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">ids</span>  <span class="o">|</span> <span class="n">ids</span><span class="o">+</span><span class="mi">0</span> <span class="o">|</span> <span class="nf">length</span><span class="p">(</span><span class="n">ids</span><span class="o">+</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="nf">bin</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span> <span class="o">|</span> <span class="nf">length</span><span class="p">(</span><span class="nf">bin</span><span class="p">(</span><span class="n">ids</span><span class="p">))</span> <span class="o">|</span>
</span><span class='line'><span class="o">+------+-------+---------------+----------+------------------+</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>             <span class="mi">1</span> <span class="o">|</span> <span class="mi">1</span>        <span class="o">|</span>                <span class="mi">1</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>     <span class="mi">1</span> <span class="o">|</span>             <span class="mi">1</span> <span class="o">|</span> <span class="mi">1</span>        <span class="o">|</span>                <span class="mi">1</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>      <span class="o">|</span>     <span class="mi">0</span> <span class="o">|</span>             <span class="mi">1</span> <span class="o">|</span> <span class="mi">0</span>        <span class="o">|</span>                <span class="mi">1</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>     <span class="mi">3</span> <span class="o">|</span>             <span class="mi">1</span> <span class="o">|</span> <span class="mi">11</span>       <span class="o">|</span>                <span class="mi">2</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>    <span class="mi">15</span> <span class="o">|</span>             <span class="mi">2</span> <span class="o">|</span> <span class="mi">1111</span>     <span class="o">|</span>                <span class="mi">4</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>     <span class="mi">4</span> <span class="o">|</span>             <span class="mi">1</span> <span class="o">|</span> <span class="mi">100</span>      <span class="o">|</span>                <span class="mi">3</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>     <span class="mi">5</span> <span class="o">|</span>             <span class="mi">1</span> <span class="o">|</span> <span class="mi">101</span>      <span class="o">|</span>                <span class="mi">3</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>     <span class="mi">6</span> <span class="o">|</span>             <span class="mi">1</span> <span class="o">|</span> <span class="mi">110</span>      <span class="o">|</span>                <span class="mi">3</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>     <span class="o">|</span>     <span class="mi">7</span> <span class="o">|</span>             <span class="mi">1</span> <span class="o">|</span> <span class="mi">111</span>      <span class="o">|</span>                <span class="mi">3</span> <span class="o">|</span>
</span><span class='line'><span class="o">+------+-------+---------------+----------+------------------+</span>
</span><span class='line'><span class="mi">9</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>&mdash;&mdash;-通过bin函数进行选择</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="nf">bin</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span> <span class="k">from</span> <span class="n">bit_t</span> <span class="k">where</span> <span class="n">ids</span><span class="o">=</span><span class="mi">7</span><span class="p">;</span>
</span><span class='line'><span class="o">+----------+</span>
</span><span class='line'><span class="o">|</span> <span class="nf">bin</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span> <span class="o">|</span>
</span><span class='line'><span class="o">+----------+</span>
</span><span class='line'><span class="o">|</span> <span class="mi">111</span>      <span class="o">|</span>
</span><span class='line'><span class="o">+----------+</span>
</span><span class='line'><span class="mi">1</span> <span class="n">row</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="nf">bin</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span> <span class="k">from</span> <span class="n">bit_t</span> <span class="k">where</span> <span class="nf">bin</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span><span class="o">=</span><span class="mi">111</span><span class="p">;</span>
</span><span class='line'><span class="o">+----------+</span>
</span><span class='line'><span class="o">|</span> <span class="nf">bin</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span> <span class="o">|</span>
</span><span class='line'><span class="o">+----------+</span>
</span><span class='line'><span class="o">|</span> <span class="mi">111</span>      <span class="o">|</span>
</span><span class='line'><span class="o">+----------+</span>
</span><span class='line'><span class="mi">1</span> <span class="n">row</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">delete</span> <span class="k">from</span> <span class="n">bit_t</span> <span class="k">where</span> <span class="nf">bin</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">2</span> <span class="n">rows</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">09</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>显示最新的数据：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">ids</span><span class="p">,</span><span class="n">ids</span><span class="o">+</span><span class="mi">0</span><span class="p">,</span><span class="nf">length</span><span class="p">(</span><span class="n">ids</span><span class="o">+</span><span class="mi">0</span><span class="p">),</span><span class="nf">bin</span><span class="p">(</span><span class="n">ids</span><span class="p">),</span><span class="nf">length</span><span class="p">(</span><span class="nf">bin</span><span class="p">(</span><span class="n">ids</span><span class="p">))</span> <span class="k">from</span> <span class="n">bit_t</span><span class="p">;</span>
</span><span class='line'><span class="o">+------+-------+---------------+----------+------------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">ids</span>  <span class="o">|</span> <span class="n">ids</span><span class="o">+</span><span class="mi">0</span> <span class="o">|</span> <span class="nf">length</span><span class="p">(</span><span class="n">ids</span><span class="o">+</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="nf">bin</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span> <span class="o">|</span> <span class="nf">length</span><span class="p">(</span><span class="nf">bin</span><span class="p">(</span><span class="n">ids</span><span class="p">))</span> <span class="o">|</span>
</span><span class='line'><span class="o">+------+-------+---------------+----------+------------------+</span>
</span><span class='line'><span class="o">|</span>      <span class="o">|</span>     <span class="mi">0</span> <span class="o">|</span>             <span class="mi">1</span> <span class="o">|</span> <span class="mi">0</span>        <span class="o">|</span>                <span class="mi">1</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>     <span class="mi">3</span> <span class="o">|</span>             <span class="mi">1</span> <span class="o">|</span> <span class="mi">11</span>       <span class="o">|</span>                <span class="mi">2</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>    <span class="mi">15</span> <span class="o">|</span>             <span class="mi">2</span> <span class="o">|</span> <span class="mi">1111</span>     <span class="o">|</span>                <span class="mi">4</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>     <span class="mi">4</span> <span class="o">|</span>             <span class="mi">1</span> <span class="o">|</span> <span class="mi">100</span>      <span class="o">|</span>                <span class="mi">3</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>     <span class="mi">5</span> <span class="o">|</span>             <span class="mi">1</span> <span class="o">|</span> <span class="mi">101</span>      <span class="o">|</span>                <span class="mi">3</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="err"></span>    <span class="o">|</span>     <span class="mi">6</span> <span class="o">|</span>             <span class="mi">1</span> <span class="o">|</span> <span class="mi">110</span>      <span class="o">|</span>                <span class="mi">3</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>     <span class="o">|</span>     <span class="mi">7</span> <span class="o">|</span>             <span class="mi">1</span> <span class="o">|</span> <span class="mi">111</span>      <span class="o">|</span>                <span class="mi">3</span> <span class="o">|</span>
</span><span class='line'><span class="o">+------+-------+---------------+----------+------------------+</span>
</span><span class='line'><span class="mi">7</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>所以  一句话：bit要注意位数和 bin函数的使用！</p>

<p>在很多情况下，我们可能接触时间这一数据类型于是考察了查询了year,time,datetime,timestamp等信息，显示其值的范围</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">help</span> <span class="kt">year</span><span class="p">;</span>
</span><span class='line'><span class="n">Name</span><span class="p">:</span> <span class="s1">&#39;YEAR&#39;</span>
</span><span class='line'><span class="n">Description</span><span class="p">:</span>
</span><span class='line'><span class="n">Syntax</span><span class="p">:</span>
</span><span class='line'><span class="kt">YEAR</span><span class="p">(</span><span class="kt">date</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">Returns</span> <span class="n">the</span> <span class="kt">year</span> <span class="k">for</span> <span class="kt">date</span><span class="p">,</span> <span class="k">in</span> <span class="n">the</span> <span class="n">range</span> <span class="mi">1000</span> <span class="k">to</span> <span class="mi">9999</span><span class="p">,</span> <span class="k">or</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">the</span>
</span><span class='line'><span class="s2">&quot;zero&quot;</span> <span class="kt">date</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">help</span> <span class="kt">Timestamp</span>
</span><span class='line'><span class="n">Name</span><span class="p">:</span> <span class="s1">&#39;TIMESTAMP&#39;</span>
</span><span class='line'><span class="n">Description</span><span class="p">:</span>
</span><span class='line'><span class="kt">TIMESTAMP</span><span class="p">[(</span><span class="n">fsp</span><span class="p">)]</span>
</span><span class='line'>
</span><span class='line'><span class="n">A</span> <span class="kt">timestamp</span><span class="p">.</span> <span class="n">The</span> <span class="n">range</span> <span class="k">is</span> <span class="s1">&#39;1970-01-01 00:00:01.000000&#39;</span> <span class="n">UTC</span> <span class="k">to</span>
</span><span class='line'><span class="s1">&#39;2038-01-19 03:14:07.999999&#39;</span> <span class="n">UTC</span><span class="p">.</span> <span class="kt">TIMESTAMP</span> <span class="k">values</span> <span class="n">are</span> <span class="n">stored</span> <span class="k">as</span> <span class="n">the</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">help</span> <span class="kt">datetime</span>
</span><span class='line'><span class="n">Name</span><span class="p">:</span> <span class="s1">&#39;DATETIME&#39;</span>
</span><span class='line'><span class="n">Description</span><span class="p">:</span>
</span><span class='line'><span class="kt">DATETIME</span><span class="p">[(</span><span class="n">fsp</span><span class="p">)]</span>
</span><span class='line'>
</span><span class='line'><span class="n">A</span> <span class="kt">date</span> <span class="k">and</span> <span class="kt">time</span> <span class="n">combination</span><span class="p">.</span> <span class="n">The</span> <span class="n">supported</span> <span class="n">range</span> <span class="k">is</span> <span class="s1">&#39;1000-01-01</span>
</span><span class='line'><span class="s1">00:00:00.000000&#39;</span> <span class="k">to</span> <span class="s1">&#39;9999-12-31 23:59:59.999999&#39;</span><span class="p">.</span> <span class="n">MySQL</span> <span class="n">displays</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">help</span> <span class="kt">date</span>
</span><span class='line'><span class="n">Name</span><span class="p">:</span> <span class="s1">&#39;DATE&#39;</span>
</span><span class='line'><span class="n">Description</span><span class="p">:</span>
</span><span class='line'><span class="kt">DATE</span>
</span><span class='line'>
</span><span class='line'><span class="n">A</span> <span class="kt">date</span><span class="p">.</span> <span class="n">The</span> <span class="n">supported</span> <span class="n">range</span> <span class="k">is</span> <span class="s1">&#39;1000-01-01&#39;</span> <span class="k">to</span> <span class="s1">&#39;9999-12-31&#39;</span><span class="p">.</span> <span class="n">MySQL</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">help</span> <span class="kt">time</span>
</span><span class='line'><span class="n">Name</span><span class="p">:</span> <span class="s1">&#39;TIME&#39;</span>
</span><span class='line'><span class="n">Description</span><span class="p">:</span>
</span><span class='line'><span class="kt">TIME</span><span class="p">[(</span><span class="n">fsp</span><span class="p">)]</span>
</span><span class='line'>
</span><span class='line'><span class="n">A</span> <span class="kt">time</span><span class="p">.</span> <span class="n">The</span> <span class="n">range</span> <span class="k">is</span> <span class="s1">&#39;-838:59:59.000000&#39;</span> <span class="k">to</span> <span class="s1">&#39;838:59:59.000000&#39;</span><span class="p">.</span> <span class="n">MySQL</span>
</span></code></pre></td></tr></table></div></figure>


<p>创建一张表year_t进行测试：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">create</span> <span class="k">table</span> <span class="nf">year_t</span><span class="p">(</span>
</span><span class='line'>    <span class="o">-&gt;</span> <span class="n">col1</span> <span class="kt">year</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span>
</span><span class='line'>    <span class="o">-&gt;</span> <span class="n">col2</span> <span class="kt">year</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span>
</span><span class='line'>    <span class="o">-&gt;</span> <span class="n">col3</span> <span class="kt">year</span><span class="p">(</span><span class="mi">100</span><span class="p">));</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">2</span> <span class="nf">warnings</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">27</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>显示表结构信息，发现都是year(4)的大小结构</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">desc</span> <span class="n">year_t</span><span class="p">;</span>
</span><span class='line'><span class="o">+-------+---------+------+-----+---------+-------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">Field</span> <span class="o">|</span> <span class="n">Type</span>    <span class="o">|</span> <span class="no">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span> <span class="o">|</span> <span class="n">Extra</span> <span class="o">|</span>
</span><span class='line'><span class="o">+-------+---------+------+-----+---------+-------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">col1</span>  <span class="o">|</span> <span class="kt">year</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="no">NULL</span>    <span class="o">|</span>       <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">col2</span>  <span class="o">|</span> <span class="kt">year</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="no">NULL</span>    <span class="o">|</span>       <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">col3</span>  <span class="o">|</span> <span class="kt">year</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="no">NULL</span>    <span class="o">|</span>       <span class="o">|</span>
</span><span class='line'><span class="o">+-------+---------+------+-----+---------+-------+</span>
</span><span class='line'><span class="mi">3</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">06</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>插入表信息：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">year_t</span> <span class="k">values</span><span class="p">(</span><span class="mi">77</span><span class="p">,</span><span class="mi">2000</span><span class="p">,</span><span class="mi">2055</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">06</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>显示表数据：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">year_t</span><span class="p">;</span>
</span><span class='line'><span class="o">+------+------+------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">col1</span> <span class="o">|</span> <span class="n">col2</span> <span class="o">|</span> <span class="n">col3</span> <span class="o">|</span>
</span><span class='line'><span class="o">+------+------+------+</span>
</span><span class='line'><span class="o">|</span> <span class="mi">1977</span> <span class="o">|</span> <span class="mi">2000</span> <span class="o">|</span> <span class="mi">2055</span> <span class="o">|</span>
</span><span class='line'><span class="o">+------+------+------+</span>
</span><span class='line'><span class="mi">1</span> <span class="n">row</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>为什么是1977？ 而不是2077？
查询到一个结果：
year(4)  1901-2155
year(2) 1970-2069
year     1000-9999（这种解释有点不可靠）</p>

<p>为什么再进行desc year_t 显示的多是year(4)暂时未清除。据推测，显示有问题，基本和sql_mode相关</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">show</span> <span class="n">variables</span> <span class="k">like</span> <span class="s1">&#39;%sql_mode%&#39;</span><span class="p">;</span>
</span><span class='line'><span class="o">+---------------+------------------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">Variable_name</span> <span class="o">|</span> <span class="n">Value</span>                  <span class="o">|</span>
</span><span class='line'><span class="o">+---------------+------------------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">sql_mode</span>      <span class="o">|</span> <span class="n">NO_ENGINE_SUBSTITUTION</span> <span class="o">|</span>
</span><span class='line'><span class="o">+---------------+------------------------+</span>
</span><span class='line'><span class="mi">1</span> <span class="n">row</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>&mdash;&mdash;-总结sql_mode的8种风格
SET sql_mode =&lsquo;&rsquo;; &mdash;-default style
SET sql_mode=&lsquo;PAD_CHAR_TO_FULL_LENGTH&rsquo;;  &mdash; 会填充到一定的长度
SET sql_mode  = &lsquo;STRICT_ALL_TABLES&rsquo;;  &mdash; 也就是当超过最大长度 会报错而不是截断
SET sql_mode = &lsquo;STRICT_ALL_TABLES,ERROR_FOR_DIVISION_BY_ZERO&rsquo;;
SET sql_mode = &lsquo;STRICT_ALL_TABLES, NO_ZERO_DATE,NO_ZERO_IN_DATE&rsquo;;
SET sql_mode = &lsquo;ALLOW_INVALID_DATES&rsquo;; &mdash;&ndash; 允许无效的日期
SET sql_mode = &lsquo;STRICT_ALL_TABLES,ALLOW_INVALID_DATES&rsquo;;
SET sql_mode = ‘real_as_float’;
（real_as_float 是指默认情况real(10,2)而不能使用real(10) 因为real(10,2)其实等效于double，只有设置real_as_float之后才可以使用real(10)）</p>

<p>改成严格模式再次尝试：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="kt">set</span> <span class="n">sql_mode</span><span class="o">=</span><span class="s1">&#39;strict_all_tables&#39;</span><span class="p">;</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">06</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>再次显示新的模式下的表结构信息：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">desc</span> <span class="n">year_t</span><span class="p">;</span>
</span><span class='line'><span class="o">+-------+---------+------+-----+---------+-------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">Field</span> <span class="o">|</span> <span class="n">Type</span>    <span class="o">|</span> <span class="no">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span> <span class="o">|</span> <span class="n">Extra</span> <span class="o">|</span>
</span><span class='line'><span class="o">+-------+---------+------+-----+---------+-------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">col1</span>  <span class="o">|</span> <span class="kt">year</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="no">NULL</span>    <span class="o">|</span>       <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">col2</span>  <span class="o">|</span> <span class="kt">year</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="no">NULL</span>    <span class="o">|</span>       <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">col3</span>  <span class="o">|</span> <span class="kt">year</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="no">NULL</span>    <span class="o">|</span>       <span class="o">|</span>
</span><span class='line'><span class="o">+-------+---------+------+-----+---------+-------+</span>
</span><span class='line'><span class="mi">3</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">05</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>设置了严格模式，发现没有任何改变。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">show</span> <span class="k">create</span> <span class="k">table</span> <span class="n">year_t</span><span class="err">\</span><span class="n">G</span><span class="p">;</span>
</span><span class='line'><span class="o">***************************</span> <span class="mi">1</span><span class="p">.</span> <span class="n">row</span> <span class="o">***************************</span>
</span><span class='line'>       <span class="k">Table</span><span class="p">:</span> <span class="n">year_t</span>
</span><span class='line'><span class="k">Create</span> <span class="k">Table</span><span class="p">:</span> <span class="k">CREATE</span> <span class="k">TABLE</span> <span class="ss">`year_t`</span> <span class="p">(</span>
</span><span class='line'>  <span class="ss">`col1`</span> <span class="kt">year</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="k">DEFAULT</span> <span class="no">NULL</span><span class="p">,</span>
</span><span class='line'>  <span class="ss">`col2`</span> <span class="kt">year</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="k">DEFAULT</span> <span class="no">NULL</span><span class="p">,</span>
</span><span class='line'>  <span class="ss">`col3`</span> <span class="kt">year</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="k">DEFAULT</span> <span class="no">NULL</span>
</span><span class='line'><span class="p">)</span> <span class="kp">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span> <span class="k">DEFAULT</span> <span class="kp">CHARSET</span><span class="o">=</span><span class="n">latin1</span>
</span><span class='line'><span class="mi">1</span> <span class="n">row</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>再次查看表结构，依然无法解释，于是尝试定义为year(4)的方式，新建了另一张表year_t1</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">create</span> <span class="k">table</span> <span class="nf">year_t1</span><span class="p">(</span>
</span><span class='line'>    <span class="o">-&gt;</span> <span class="n">col1</span> <span class="kt">year</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span>
</span><span class='line'>    <span class="o">-&gt;</span> <span class="n">col2</span> <span class="kt">year</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span>
</span><span class='line'>    <span class="o">-&gt;</span> <span class="n">col3</span> <span class="kt">year</span><span class="p">(</span><span class="mi">4</span><span class="p">));</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">33</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">desc</span> <span class="n">year_t1</span><span class="p">;</span>
</span><span class='line'><span class="o">+-------+---------+------+-----+---------+-------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">Field</span> <span class="o">|</span> <span class="n">Type</span>    <span class="o">|</span> <span class="no">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span> <span class="o">|</span> <span class="n">Extra</span> <span class="o">|</span>
</span><span class='line'><span class="o">+-------+---------+------+-----+---------+-------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">col1</span>  <span class="o">|</span> <span class="kt">year</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="no">NULL</span>    <span class="o">|</span>       <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">col2</span>  <span class="o">|</span> <span class="kt">year</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="no">NULL</span>    <span class="o">|</span>       <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">col3</span>  <span class="o">|</span> <span class="kt">year</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="no">NULL</span>    <span class="o">|</span>       <span class="o">|</span>
</span><span class='line'><span class="o">+-------+---------+------+-----+---------+-------+</span>
</span><span class='line'><span class="mi">3</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">04</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>再次插入表的数据：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">year_t1</span> <span class="k">values</span><span class="p">(</span><span class="mi">77</span><span class="p">,</span><span class="mi">2000</span><span class="p">,</span><span class="mi">2055</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">05</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">year_t1</span><span class="p">;</span>
</span><span class='line'><span class="o">+------+------+------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">col1</span> <span class="o">|</span> <span class="n">col2</span> <span class="o">|</span> <span class="n">col3</span> <span class="o">|</span>
</span><span class='line'><span class="o">+------+------+------+</span>
</span><span class='line'><span class="o">|</span> <span class="mi">1977</span> <span class="o">|</span> <span class="mi">2000</span> <span class="o">|</span> <span class="mi">2055</span> <span class="o">|</span>
</span><span class='line'><span class="o">+------+------+------+</span>
</span><span class='line'><span class="mi">1</span> <span class="n">row</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>依然是1977 ，遇到一个暂时无法解答的问题。到底有没有year(2) year(4)的问题？ 暂时留着！</p>

<p>下面介绍比较常见的timestamp的使用方式：
&mdash;&mdash;创建一张苹果表；</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">create</span> <span class="k">table</span> <span class="nf">apple</span><span class="p">(</span>
</span><span class='line'>    <span class="o">-&gt;</span> <span class="n">timeme</span> <span class="kt">timestamp</span> <span class="k">default</span> <span class="k">current_timestamp</span>
</span><span class='line'>    <span class="o">-&gt;</span> <span class="k">on</span> <span class="k">update</span> <span class="k">current_timestamp</span><span class="p">,</span>
</span><span class='line'>    <span class="o">-&gt;</span> <span class="n">id</span> <span class="kt">smallint</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>之所以是on update current_timestamp是指当表中的某行数据更新时候，顺便会把timeme的数据更新为当前系统的最新的状态（之所以是系统最新状态，可以查看 show variables like &ldquo;%time_zone%&rdquo;;将在下文给出）</p>

<p>&mdash;&mdash;显示苹果表的信息</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">desc</span> <span class="n">apple</span><span class="p">;</span>
</span><span class='line'><span class="o">+--------+-------------+------+-----+-------------------+---------------------</span><span class="c1">--</span>
</span><span class='line'><span class="c1">------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">Field</span>  <span class="o">|</span> <span class="n">Type</span>        <span class="o">|</span> <span class="no">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span>           <span class="o">|</span> <span class="n">Extra</span>
</span><span class='line'>      <span class="o">|</span>
</span><span class='line'><span class="o">+--------+-------------+------+-----+-------------------+---------------------</span><span class="c1">--</span>
</span><span class='line'><span class="c1">------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">timeme</span> <span class="o">|</span> <span class="kt">timestamp</span>   <span class="o">|</span> <span class="n">NO</span>   <span class="o">|</span>     <span class="o">|</span> <span class="k">CURRENT_TIMESTAMP</span> <span class="o">|</span> <span class="k">on</span> <span class="k">update</span> <span class="k">CURRENT_TIME</span>
</span><span class='line'><span class="n">STAMP</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">id</span>     <span class="o">|</span> <span class="kt">smallint</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="no">NULL</span>              <span class="o">|</span>
</span><span class='line'>      <span class="o">|</span>
</span><span class='line'><span class="o">+--------+-------------+------+-----+-------------------+---------------------</span><span class="c1">--</span>
</span><span class='line'><span class="c1">------+</span>
</span><span class='line'><span class="mi">2</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>插入数据信息：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">apple</span> <span class="k">values</span><span class="p">(</span><span class="nf">now</span><span class="p">(),</span><span class="mi">200</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">25</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>显示表数据：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">apple</span><span class="p">;</span>
</span><span class='line'><span class="o">+---------------------+------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">timeme</span>              <span class="o">|</span> <span class="n">id</span>   <span class="o">|</span>
</span><span class='line'><span class="o">+---------------------+------+</span>
</span><span class='line'><span class="o">|</span> <span class="mi">2015</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">14</span> <span class="mi">11</span><span class="p">:</span><span class="mi">54</span><span class="p">:</span><span class="mi">11</span> <span class="o">|</span>  <span class="mi">200</span> <span class="o">|</span>
</span><span class='line'><span class="o">+---------------------+------+</span>
</span><span class='line'><span class="mi">1</span> <span class="n">row</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>&mdash;&mdash;&mdash;-显示系统变量</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">show</span> <span class="n">variables</span> <span class="k">like</span> <span class="s2">&quot;%time_zone%&quot;</span><span class="p">;</span>
</span><span class='line'><span class="o">+------------------+--------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">Variable_name</span>    <span class="o">|</span> <span class="n">Value</span>  <span class="o">|</span>
</span><span class='line'><span class="o">+------------------+--------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">system_time_zone</span> <span class="o">|</span>        <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">time_zone</span>        <span class="o">|</span> <span class="n">SYSTEM</span> <span class="o">|</span>
</span><span class='line'><span class="o">+------------------+--------+</span>
</span><span class='line'><span class="mi">2</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span><span class="p">,</span> <span class="mi">1</span> <span class="nf">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>&mdash;&mdash;&mdash;&mdash;显示字符集</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">show</span> <span class="k">character</span> <span class="kt">set</span><span class="p">;</span>
</span><span class='line'><span class="o">+----------+-----------------------------+---------------------+--------+</span>
</span><span class='line'><span class="o">|</span> <span class="kp">Charset</span>  <span class="o">|</span> <span class="n">Description</span>                 <span class="o">|</span> <span class="k">Default</span> <span class="n">collation</span>   <span class="o">|</span> <span class="n">Maxlen</span> <span class="o">|</span>
</span><span class='line'><span class="o">+----------+-----------------------------+---------------------+--------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">big5</span>     <span class="o">|</span> <span class="n">Big5</span> <span class="n">Traditional</span> <span class="n">Chinese</span>    <span class="o">|</span> <span class="n">big5_chinese_ci</span>     <span class="o">|</span>      <span class="mi">2</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">dec8</span>     <span class="o">|</span> <span class="kt">DEC</span> <span class="n">West</span> <span class="n">European</span>           <span class="o">|</span> <span class="n">dec8_swedish_ci</span>     <span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">cp850</span>    <span class="o">|</span> <span class="n">DOS</span> <span class="n">West</span> <span class="n">European</span>           <span class="o">|</span> <span class="n">cp850_general_ci</span>    <span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">hp8</span>      <span class="o">|</span> <span class="n">HP</span> <span class="n">West</span> <span class="n">European</span>            <span class="o">|</span> <span class="n">hp8_english_ci</span>      <span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="n">koi8r</span>    <span class="o">|</span> <span class="n">KOI8</span><span class="o">-</span><span class="n">R</span> <span class="n">Relcom</span> <span class="n">Russian</span>       <span class="o">|</span> <span class="n">koi8r_general_ci</span>    <span class="o">|</span>      <span class="mi">1</span> <span class="o">|</span>
</span></code></pre></td></tr></table></div></figure>


<p>另外附录在创建表的时候需要考虑下面的信息
&mdash;&mdash;&mdash;在创建表的时候必须主要的字段 属性    影响存储性能（比如Not NULL)和运行效果 比如zerofill;
1: AUTO_INCREMENT    用于主键 的自动编号
2: LAST_INSERT_ID()
3: UNSIGNED          无符号（一把是int数据）
4: ZEROFILL          填充 0（一把是int数据）
5: NULL/NOT NULL     一般使用非空，增强mysql的性能（一般设置为非空属性）
6: DEFAULT value     默认值
7: CHARACTER SET     字符集</p>

<p>添加一个null行的数据（null不知道的值，类似于java的对象。） 由于on update current_timestamp所以插入当前系统的最新时间</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">apple</span> <span class="k">values</span><span class="p">(</span><span class="no">null</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">15</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">apple</span><span class="p">;</span>
</span><span class='line'><span class="o">+---------------------+------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">timeme</span>              <span class="o">|</span> <span class="n">id</span>   <span class="o">|</span>
</span><span class='line'><span class="o">+---------------------+------+</span>
</span><span class='line'><span class="o">|</span> <span class="mi">2015</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">14</span> <span class="mi">11</span><span class="p">:</span><span class="mi">54</span><span class="p">:</span><span class="mi">11</span> <span class="o">|</span>  <span class="mi">200</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="mi">2015</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">14</span> <span class="mi">13</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">37</span> <span class="o">|</span>  <span class="mi">100</span> <span class="o">|</span>
</span><span class='line'><span class="o">+---------------------+------+</span>
</span><span class='line'><span class="mi">2</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>&mdash;&mdash;&mdash;&mdash;&mdash;-默认为null时候添加  now()的值
如果添加入不合适的值（再sql_mode = &lsquo;&rsquo; 则是警告，如果是sql_mode=&lsquo;strict_all_tables&#8217;则是错误提示 errors产生）</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">apple</span> <span class="nf">value</span><span class="p">(</span><span class="s2">&quot;123&quot;</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="n">affected</span><span class="p">,</span> <span class="mi">1</span> <span class="nf">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">10</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">show</span> <span class="n">warnings</span><span class="p">;</span>
</span><span class='line'><span class="o">+---------+------+---------------------------------------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">Level</span>   <span class="o">|</span> <span class="n">Code</span> <span class="o">|</span> <span class="n">Message</span>                                     <span class="o">|</span>
</span><span class='line'><span class="o">+---------+------+---------------------------------------------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">Warning</span> <span class="o">|</span> <span class="mi">1265</span> <span class="o">|</span> <span class="n">Data</span> <span class="n">truncated</span> <span class="k">for</span> <span class="k">column</span> <span class="s1">&#39;timeme&#39;</span> <span class="n">at</span> <span class="n">row</span> <span class="mi">1</span> <span class="o">|</span>
</span><span class='line'><span class="o">+---------+------+---------------------------------------------+</span>
</span><span class='line'><span class="mi">1</span> <span class="n">row</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>&mdash;&mdash;-当插入的值不合适时候  则用000替换！！</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">apple</span><span class="p">;</span>
</span><span class='line'><span class="o">+---------------------+------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">timeme</span>              <span class="o">|</span> <span class="n">id</span>   <span class="o">|</span>
</span><span class='line'><span class="o">+---------------------+------+</span>
</span><span class='line'><span class="o">|</span> <span class="mi">2015</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">14</span> <span class="mi">11</span><span class="p">:</span><span class="mi">54</span><span class="p">:</span><span class="mi">11</span> <span class="o">|</span>  <span class="mi">200</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="mi">2015</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">14</span> <span class="mi">13</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">37</span> <span class="o">|</span>  <span class="mi">100</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="mi">0000</span><span class="o">-</span><span class="mi">00</span><span class="o">-</span><span class="mi">00</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span> <span class="o">|</span>  <span class="mi">100</span> <span class="o">|</span>
</span><span class='line'><span class="o">+---------------------+------+</span>
</span><span class='line'><span class="mi">3</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>省略过程得到新的表数据如下：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">apple</span><span class="p">;</span>
</span><span class='line'><span class="o">+---------------------+------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">timeme</span>              <span class="o">|</span> <span class="n">id</span>   <span class="o">|</span>
</span><span class='line'><span class="o">+---------------------+------+</span>
</span><span class='line'><span class="o">|</span> <span class="mi">2015</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">14</span> <span class="mi">11</span><span class="p">:</span><span class="mi">54</span><span class="p">:</span><span class="mi">11</span> <span class="o">|</span>  <span class="mi">200</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="mi">2015</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">14</span> <span class="mi">13</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">37</span> <span class="o">|</span>  <span class="mi">100</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="mi">0000</span><span class="o">-</span><span class="mi">00</span><span class="o">-</span><span class="mi">00</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span> <span class="o">|</span>  <span class="mi">100</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="mi">2015</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">14</span> <span class="mi">13</span><span class="p">:</span><span class="mi">09</span><span class="p">:</span><span class="mi">20</span> <span class="o">|</span>  <span class="mi">400</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="mi">0000</span><span class="o">-</span><span class="mi">00</span><span class="o">-</span><span class="mi">00</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span> <span class="o">|</span>  <span class="mi">500</span> <span class="o">|</span>
</span><span class='line'><span class="o">+---------------------+------+</span>
</span><span class='line'><span class="mi">5</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>&mdash;&mdash;现在我要更新 id=500的值</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">update</span> <span class="n">apple</span> <span class="kt">set</span> <span class="n">id</span><span class="o">=</span><span class="mi">600</span> <span class="k">where</span> <span class="n">id</span><span class="o">=</span><span class="mi">500</span><span class="p">;</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="n">row</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">27</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'><span class="n">Rows</span> <span class="n">matched</span><span class="p">:</span> <span class="mi">1</span>  <span class="n">Changed</span><span class="p">:</span> <span class="mi">1</span>  <span class="n">Warnings</span><span class="p">:</span> <span class="mi">0</span>
</span><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">apple</span><span class="p">;</span>
</span><span class='line'><span class="o">+---------------------+------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">timeme</span>              <span class="o">|</span> <span class="n">id</span>   <span class="o">|</span>
</span><span class='line'><span class="o">+---------------------+------+</span>
</span><span class='line'><span class="o">|</span> <span class="mi">2015</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">14</span> <span class="mi">11</span><span class="p">:</span><span class="mi">54</span><span class="p">:</span><span class="mi">11</span> <span class="o">|</span>  <span class="mi">200</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="mi">2015</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">14</span> <span class="mi">13</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">37</span> <span class="o">|</span>  <span class="mi">100</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="mi">0000</span><span class="o">-</span><span class="mi">00</span><span class="o">-</span><span class="mi">00</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span> <span class="o">|</span>  <span class="mi">100</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="mi">2015</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">14</span> <span class="mi">13</span><span class="p">:</span><span class="mi">09</span><span class="p">:</span><span class="mi">20</span> <span class="o">|</span>  <span class="mi">400</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="mi">2015</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">14</span> <span class="mi">13</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="mi">47</span> <span class="o">|</span>  <span class="mi">600</span> <span class="o">|</span>  <span class="o">&lt;-----------------</span><span class="n">timestame</span><span class="err">的值！也跟着变化！因为</span><span class="k">on</span> <span class="k">update</span><span class="err">的作用</span>
</span><span class='line'><span class="o">+---------------------+------+</span>
</span><span class='line'><span class="mi">5</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>这就是timestamp和year的部分用法。</p>

<p>常用的show命令汇总show tables;
show databases;
show current_user();
show user();
show columns from apple; &mdash;&ndash;>显示apple表结构，类似explain 和desc
show variables like &lsquo;%sql_mode%&rsquo;   &mdash;&mdash;>和显式相关，是mysql比较重要的参数
show variables like &lsquo;log%&rsquo;              &mdash;&mdash;>会显示日志相关信息
show variables like &lsquo;max_connect%&rsquo;  &mdash;&mdash;>显式mysql供用户的最大连接数
show variables like &lsquo;%innodb%&rsquo;       &mdash;&mdash;>显式innodb相关的信息
show variables like &lsquo;%data%&rsquo;           &mdash;&mdash;>显式mysql 数据的存储相关信息
show variables like &lsquo;%time_zone%&rsquo;  &mdash;&mdash;&ndash;>显式时区相关信息
show variables like &lsquo;%character%&rsquo;;   &mdash;&mdash;>显式字符集和编码的相关信息
一些不常用的show variables
show variables like &lsquo;%query_cache%&rsquo;  &mdash;&mdash;>查询缓存，不想深入，据说是跟优化有关，DBA选手可以深入，有一个工业标准。
show variables like &lsquo;%key_buffer%&rsquo;   &mdash;&mdash;&mdash;>也和优化相关，也有工业标准值</p>

<p>还有一些没想起来的，以后再写。
另外还可以显示当前系统的状态的详细值
show status;
show status like &lsquo;%&hellip;%&rsquo;  &mdash;&mdash;>显示某个值的信息
mysql> show status like &lsquo;%buffer%&rsquo;;</p>

<p>信息值不是特别了解。。。</p>

<p>status 显式mysql当前库的使用情况：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">status</span>
</span><span class='line'><span class="o">------------</span><span class="c1">--</span>
</span><span class='line'><span class="c1">mysql  Ver 14.14 Distrib 5.6.20, for Win32 (x86)</span>
</span><span class='line'>
</span><span class='line'><span class="n">Connection</span> <span class="n">id</span><span class="p">:</span>          <span class="mi">2</span>             <span class="err">连接的</span><span class="n">id</span>
</span><span class='line'><span class="n">Current</span> <span class="k">database</span><span class="p">:</span>       <span class="n">test</span>     <span class="err">当前数据库</span>
</span><span class='line'><span class="n">Current</span> <span class="n">user</span><span class="p">:</span>           <span class="n">root</span><span class="o">@</span><span class="n">localhost</span>    <span class="err">当前用户</span>
</span><span class='line'><span class="k">SSL</span><span class="p">:</span>                    <span class="k">Not</span> <span class="k">in</span> <span class="k">use</span>             <span class="err">是否使用加密的</span><span class="k">ssl</span><span class="err">协议</span>
</span><span class='line'><span class="k">Using</span> <span class="n">delimiter</span><span class="p">:</span>        <span class="p">;</span>          <span class="err">使用的终止符</span>
</span><span class='line'><span class="n">Server</span> <span class="n">version</span><span class="p">:</span>         <span class="mi">5</span><span class="p">.</span><span class="mi">6</span><span class="p">.</span><span class="mi">20</span> <span class="n">MySQL</span> <span class="n">Community</span> <span class="nf">Server</span> <span class="p">(</span><span class="n">GPL</span><span class="p">)</span>
</span><span class='line'><span class="n">Protocol</span> <span class="n">version</span><span class="p">:</span>       <span class="mi">10</span>
</span><span class='line'><span class="n">Connection</span><span class="p">:</span>             <span class="n">localhost</span> <span class="n">via</span> <span class="n">TCP</span><span class="o">/</span><span class="n">IP</span>
</span><span class='line'><span class="n">Server</span> <span class="n">characterset</span><span class="p">:</span>    <span class="n">latin1</span>
</span><span class='line'><span class="n">Db</span>     <span class="n">characterset</span><span class="p">:</span>    <span class="n">latin1</span>            <span class="err">数据库的字符集</span>
</span><span class='line'><span class="n">Client</span> <span class="n">characterset</span><span class="p">:</span>    <span class="n">gbk</span>          <span class="err">客户端的字符集</span>
</span><span class='line'><span class="n">Conn</span><span class="p">.</span>  <span class="n">characterset</span><span class="p">:</span>    <span class="n">gbk</span>
</span><span class='line'><span class="n">TCP</span> <span class="n">port</span><span class="p">:</span>               <span class="mi">3306</span>                      <span class="err">开放的端口号</span>
</span><span class='line'><span class="n">Uptime</span><span class="p">:</span>                 <span class="mi">5</span> <span class="n">hours</span> <span class="mi">20</span> <span class="n">min</span> <span class="mi">1</span> <span class="n">sec</span>    <span class="err">登录时间</span>
</span><span class='line'>
</span><span class='line'><span class="err">一些当前线程信息</span>
</span><span class='line'><span class="n">Threads</span><span class="p">:</span> <span class="mi">1</span>  <span class="n">Questions</span><span class="p">:</span> <span class="mi">182</span>  <span class="n">Slow</span> <span class="n">queries</span><span class="p">:</span> <span class="mi">0</span>  <span class="n">Opens</span><span class="p">:</span> <span class="mi">96</span>  <span class="n">Flush</span> <span class="kp">tables</span><span class="p">:</span> <span class="mi">1</span>
</span><span class='line'><span class="n">bles</span><span class="p">:</span> <span class="mi">72</span>  <span class="n">Queries</span> <span class="n">per</span> <span class="n">second</span> <span class="n">avg</span><span class="p">:</span> <span class="mi">0</span><span class="p">.</span><span class="mi">009</span>
</span><span class='line'><span class="o">--------------</span>
</span></code></pre></td></tr></table></div></figure>


<p>create database ch charset = utf8;  &mdash;&mdash;>会改变Db characterset的值
set names utf8  &mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;>会改变client characerset 和Conn.characternet的值！</p>

<p>delimiter $$   则每使用一个mysql语句必须是用$$结尾  而不是;分号结尾了！</p>

<p>补充数据类型的分类：（摘自如鹏）
文本：</p>

<p>CHAR(<em>)：最多255个字节的定长字符串，它的长度必须在创建时指定
VARCHAR(</em>)：最多255（65535）个字节的可变长度字符串，它的长度必须在创建时指定
TEXT：最大长度为64K字符的变长文本
TINYTEXT：最大长度为255字符的变长文本
MEDUIMTEXT：最大长度为16K字符的变长文本
LONGTEXT：最大长度为4GB字符的变长文本</p>

<p>整数(考虑数据取值后选择尽可能小的类型)</p>

<p>tinyint：1字节。有符号值：-128 到127；无符号值：0到255
smallint：2字节。有符号值：-32768 到32767；无符号值：0到65535
mediumint：3字节。
int：4字节
bigint：8字节</p>

<p>小数(需要指定长度和小数点，也就是显示宽度和小数位数)：</p>

<p>decimal：精确存储的小数，在内部用字符串存储，适合金额等要求精确的类型。别名：NUMERIC（银行，差一点都不行！）
float：4字节，单精度。会近似存储(<em>)，效率比decimal高。
double：8字节，双精度。会近似存储(</em>)，效率比decimal高。</p>

<p>日期时间：</p>

<p>DATE：4字节。范围：1000-01-01——9999-12-31
TIME：3字节。范围：-838:59:59——838:59:59
DATETIME：8字节。范围：1000-01-01 00:00:00——9999-12-31 23:59:59</p>

<p>二进制大数据：</p>

<p>TITYBLOB：最大长度为255字节
BLOB：最大长度为64KB
MEDIUMBLOB：最大长度为16MB
LONGBLOB：最大长度为4GB</p>

<p>select的高级使用方式：</p>

<p>1：聚合函数
聚合函数：其实就是统计中常用的最大值（MAX），最小值(MIN)，平均值(AVG),求和（SUM），记录统计（COUNT）等函数
mysql> select count(*) from apple;
mysql> select max(id) from apple;
复制代码
按照具体情况匹配使用</p>

<p>2： limit 限制显示的条数
一个注意点limit是mysql独有的，必须放在最后，甚至比分组（order by）还靠后
Limit 2,4 表示从第二个记录之后的四个记录，即2,3,4,5</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">apple</span> <span class="k">limit</span> <span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">;</span>
</span><span class='line'><span class="o">+----+-----------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">name</span>      <span class="o">|</span>
</span><span class='line'><span class="o">+----+-----------+</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span> <span class="n">shift</span>     <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span> <span class="n">caps</span>      <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">6</span> <span class="o">|</span> <span class="n">tomato</span>    <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">7</span> <span class="o">|</span> <span class="n">backspace</span> <span class="o">|</span>
</span><span class='line'><span class="o">+----+-----------+</span>
</span><span class='line'><span class="mi">4</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>注意： 可用于网页的分页！  用于order by 之后，order by 一般用于where之后
where  &hellip;
order by &hellip;
limit &hellip;
3 排序（order by)</p>

<p>一般是处于select语句的末尾（适用于sqlserver mysql oracle..)</p>

<p>这时候想要复制一张表
参考此文
1.复制表结构及数据到新表</p>

<p>CREATE TABLE 新表
SELECT * FROM 旧表</p>

<p>2.只复制表结构到新表</p>

<p>CREATE TABLE 新表
SELECT * FROM 旧表 WHERE 1=2
即:让WHERE条件不成立.
方法二:(低版本的mysql不支持，mysql4.0.25 不支持，mysql5已经支持了)
CREATE TABLE 新表
LIKE 旧表</p>

<p>3.复制旧表的数据到新表(假设两个表结构一样)</p>

<p>INSERT INTO 新表
SELECT * FROM 旧表</p>

<p>4.复制旧表的数据到新表(假设两个表结构不一样)</p>

<p>INSERT INTO 新表(字段1,字段2,…….)
SELECT 字段1,字段2,…… FROM 旧表</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">create</span> <span class="k">table</span> <span class="n">b1</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">t_students</span><span class="p">;</span>
</span><span class='line'><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">18</span> <span class="n">rows</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">55</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'><span class="n">Records</span><span class="p">:</span> <span class="mi">18</span>  <span class="n">Duplicates</span><span class="p">:</span> <span class="mi">0</span>  <span class="n">Warnings</span><span class="p">:</span> <span class="mi">0</span>
</span></code></pre></td></tr></table></div></figure>


<p>b1就是我们测试的数据表；
删除某个字段，比如名字不想显示。参考此文
知道了可以drop column  也可以change 字段信息
MySQL添加字段：</p>

<p>alter table <code>user_movement_log</code> <br/>
Add column GatewayId int not null default 0 AFTER <code>Regionid</code> (在哪个字段后面添加)</p>

<p>删除字段：</p>

<p>alter table <code>user_movement_log</code> drop column Gatewayid</p>

<p>调整字段顺序：</p>

<p>ALTER TABLE <code>user_movement_log</code> CHANGE <code>GatewayId</code> <code>GatewayId</code> int not null default 0 AFTER RegionID</p>

<p>mysql> alter table b1 drop column Name;
Query OK, 0 rows affected (0.52 sec)
Records: 0  Duplicates: 0  Warnings: 0</p>

<p>是的通过此种方式有效：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">b1</span><span class="p">;</span>
</span><span class='line'><span class="o">+----+--------+-----------------+------+------+</span>
</span><span class='line'><span class="o">|</span> <span class="n">Id</span> <span class="o">|</span> <span class="n">Gender</span> <span class="o">|</span> <span class="n">Hobbies</span>         <span class="o">|</span> <span class="n">Age</span>  <span class="o">|</span> <span class="n">Test</span> <span class="o">|</span>
</span><span class='line'><span class="o">+----+--------+-----------------+------+------+</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">0</span> <span class="o">|</span> <span class="err"></span>      <span class="o">|</span> <span class="err">羽毛球</span>          <span class="o">|</span>   <span class="mi">30</span> <span class="o">|</span>   <span class="mi">31</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span> <span class="err"></span>      <span class="o">|</span> <span class="err">编程</span>            <span class="o">|</span>   <span class="mi">24</span> <span class="o">|</span>   <span class="mi">31</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span>        <span class="o">|</span> <span class="err">旅游</span>            <span class="o">|</span>   <span class="mi">27</span> <span class="o">|</span>   <span class="mi">30</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span> <span class="err"></span>      <span class="o">|</span> <span class="err">足球</span> <span class="n">dota</span>       <span class="o">|</span>   <span class="mi">25</span> <span class="o">|</span>   <span class="mi">31</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span> <span class="err"></span>      <span class="o">|</span> <span class="err">打炮，摄影</span>      <span class="o">|</span>   <span class="mi">30</span> <span class="o">|</span>   <span class="mi">31</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">6</span> <span class="o">|</span> <span class="err"></span>      <span class="o">|</span> <span class="err">篮球</span>            <span class="o">|</span>   <span class="mi">34</span> <span class="o">|</span>   <span class="mi">31</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">7</span> <span class="o">|</span> <span class="err"></span>      <span class="o">|</span> <span class="err">音乐，编程</span> <span class="err">军事</span> <span class="o">|</span>   <span class="mi">30</span> <span class="o">|</span>   <span class="mi">31</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">8</span> <span class="o">|</span> <span class="err"></span>      <span class="o">|</span> <span class="err">摄影</span>            <span class="o">|</span>   <span class="mi">26</span> <span class="o">|</span>   <span class="mi">31</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span>  <span class="mi">9</span> <span class="o">|</span> <span class="err"></span>      <span class="o">|</span> <span class="err">电影</span>            <span class="o">|</span>   <span class="mi">26</span> <span class="o">|</span>   <span class="mi">31</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="mi">10</span> <span class="o">|</span> <span class="err"></span>      <span class="o">|</span> <span class="err">消消乐</span>          <span class="o">|</span>   <span class="mi">26</span> <span class="o">|</span>   <span class="mi">31</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="mi">11</span> <span class="o">|</span>        <span class="o">|</span> <span class="err">消消乐</span>          <span class="o">|</span>   <span class="mi">24</span> <span class="o">|</span>   <span class="mi">30</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="mi">12</span> <span class="o">|</span>        <span class="o">|</span> <span class="err">购物</span>            <span class="o">|</span> <span class="no">NULL</span> <span class="o">|</span>   <span class="mi">30</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="mi">13</span> <span class="o">|</span> <span class="err"></span>      <span class="o">|</span> <span class="err">骑行</span>            <span class="o">|</span> <span class="no">NULL</span> <span class="o">|</span>   <span class="mi">31</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="mi">14</span> <span class="o">|</span> <span class="err"></span>      <span class="o">|</span> <span class="err">学术</span>            <span class="o">|</span>   <span class="mi">34</span> <span class="o">|</span>   <span class="mi">31</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="mi">15</span> <span class="o">|</span> <span class="err"></span>      <span class="o">|</span> <span class="err">不清楚</span>          <span class="o">|</span> <span class="no">NULL</span> <span class="o">|</span>   <span class="mi">31</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="mi">16</span> <span class="o">|</span> <span class="err"></span>      <span class="o">|</span> <span class="err">散步</span>            <span class="o">|</span> <span class="no">NULL</span> <span class="o">|</span>   <span class="mi">31</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="mi">17</span> <span class="o">|</span> <span class="err"></span>      <span class="o">|</span> <span class="no">NULL</span>            <span class="o">|</span> <span class="no">NULL</span> <span class="o">|</span>   <span class="mi">31</span> <span class="o">|</span>
</span><span class='line'><span class="o">|</span> <span class="mi">18</span> <span class="o">|</span>        <span class="o">|</span> <span class="err">家庭主妇</span>        <span class="o">|</span>   <span class="mi">26</span> <span class="o">|</span>   <span class="mi">30</span> <span class="o">|</span>
</span><span class='line'><span class="o">+----+--------+-----------------+------+------+</span>
</span><span class='line'><span class="mi">18</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</span><span class='line'>  <span class="ss">``</span><span class="o">`</span>
</span><span class='line'><span class="err">测试分组方法：升序排列（降序用</span><span class="k">desc</span><span class="err">）</span>
</span><span class='line'>  <span class="err">规则用</span> <span class="k">order</span> <span class="k">by</span> <span class="err">字段名</span>  <span class="k">asc</span><span class="o">|</span><span class="k">desc</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
mysql> select * from b1</p>

<pre><code>-&gt; order by Age asc;
</code></pre>

<p>+&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;+
| Id | Gender | Hobbies         | Age  | Test |
+&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;+
| 17 |       | NULL            | NULL |   31 |
| 16 |       | 散步            | NULL |   31 |
| 15 |       | 不清楚          | NULL |   31 |
| 13 |       | 骑行            | NULL |   31 |
| 12 |        | 购物            | NULL |   30 |
|  1 |       | 编程            |   24 |   31 |
| 11 |        | 消消乐          |   24 |   30 |
|  3 |       | 足球 dota       |   25 |   31 |
| 18 |        | 家庭主妇        |   26 |   30 |
| 10 |       | 消消乐          |   26 |   31 |
|  9 |       | 电影            |   26 |   31 |
|  8 |       | 摄影            |   26 |   31 |
|  2 |        | 旅游            |   27 |   30 |
|  7 |       | 音乐，编程 军事 |   30 |   31 |
|  4 |       | 打炮，摄影      |   30 |   31 |
|  0 |       | 羽毛球          |   30 |   31 |
| 14 |       | 学术            |   34 |   31 |
|  6 |       | 篮球            |   34 |   31 |
+&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;+</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="err">也可以组合排序：先按年龄的升序，再按</span><span class="n">id</span><span class="err">的降序</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
mysql> select * from b1</p>

<pre><code>-&gt; order by Age asc,Id desc;
</code></pre>

<p>+&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;+
| Id | Gender | Hobbies         | Age  | Test |
+&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;+
| 17 |       | NULL            | NULL |   31 |
| 16 |       | 散步            | NULL |   31 |
| 15 |       | 不清楚          | NULL |   31 |
| 13 |       | 骑行            | NULL |   31 |
| 12 |        | 购物            | NULL |   30 |
| 11 |        | 消消乐          |   24 |   30 |
|  1 |       | 编程            |   24 |   31 |
|  3 |       | 足球 dota       |   25 |   31 |
| 18 |        | 家庭主妇        |   26 |   30 |
| 10 |       | 消消乐          |   26 |   31 |
|  9 |       | 电影            |   26 |   31 |
|  8 |       | 摄影            |   26 |   31 |
|  2 |        | 旅游            |   27 |   30 |
|  7 |       | 音乐，编程 军事 |   30 |   31 |
|  4 |       | 打炮，摄影      |   30 |   31 |
|  0 |       | 羽毛球          |   30 |   31 |
| 14 |       | 学术            |   34 |   31 |
|  6 |       | 篮球            |   34 |   31 |
+&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;+</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="mi">4</span><span class="p">.</span> <span class="k">as</span><span class="err">作为辅助显示</span>   <span class="k">where</span> <span class="err">则进行判断，条件显示信息</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
mysql> select Hobbies as 爱好,Age as 年龄 from b1</p>

<pre><code>-&gt; where Age &gt;24 and Age &lt;30;
</code></pre>

<p>+&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+
| 爱好      | 年龄 |
+&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+
| 旅游      |   27 |
| 足球 dota |   25 |
| 摄影      |   26 |
| 电影      |   26 |
| 消消乐    |   26 |
| 家庭主妇  |   26 |
+&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+
6 rows in set (0.02 sec)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="mi">5</span><span class="err">：</span><span class="k">like</span><span class="err">模糊匹配</span>
</span><span class='line'>     <span class="err">正则表达式的效果，查找含有某某的字符串的信息</span>
</span><span class='line'>
</span><span class='line'><span class="err">下面信息来自如鹏：</span>
</span><span class='line'><span class="err">通配符过滤使用</span><span class="k">LIKE</span> <span class="err">。</span>
</span><span class='line'><span class="mi">1</span><span class="err">、单字符匹配的通配符为半角下划线“</span><span class="n">_</span><span class="err">”（类似于正则表达式的</span><span class="p">.</span><span class="err">），它匹配单个出现的字符。以任意字符开头，剩余部分为“</span><span class="n">erry</span><span class="err">”</span> <span class="err">：</span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">T_Employees</span> <span class="k">WHERE</span> <span class="n">Name</span> <span class="k">LIKE</span> <span class="s1">&#39;_erry&#39;</span>
</span><span class='line'><span class="mi">2</span><span class="err">、多字符匹配的通配符为半角百分号“</span><span class="o">%</span><span class="err">”，它匹配任意次数（零或多个）出现的任意字符。</span> <span class="err">“</span><span class="n">k</span><span class="o">%</span><span class="err">”匹配以“</span><span class="n">k</span><span class="err">”开头、任意长度的字符串。检索姓名中包含字母“</span><span class="n">n</span><span class="err">”的员工信息</span> <span class="err">：</span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">T_Employees</span> <span class="k">WHERE</span> <span class="n">Name</span> <span class="k">LIKE</span> <span class="s1">&#39;%n%&#39;</span>
</span><span class='line'><span class="mi">3</span><span class="err">、</span><span class="k">Like</span><span class="err">性能较差，很容易造成全表扫描，谨慎使用。后面会讲数据库优化</span><span class="p">(</span><span class="err">索引等</span><span class="p">)</span><span class="err">，项目中做搜索用全文检索。</span>
</span><span class='line'><span class="err">测试：（不像</span> <span class="o">=</span> <span class="err">号必须一样</span> <span class="err">，</span> <span class="k">like</span><span class="err">是模糊匹配）</span><span class="p">(</span><span class="err">数据库全部取出来，然后一条一条扫描</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
mysql> select * from b1 where Hobbies like &lsquo;%羽毛%&rsquo;;
+&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;+
| Id | Gender | Hobbies | Age  | Test |
+&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;+
|  0 |       | 羽毛球  |   30 |   31 |
+&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;+
1 row in set (0.14 sec)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="mi">6</span><span class="p">.</span><span class="err">控制判断</span> <span class="no">Null</span>
</span><span class='line'><span class="no">Null</span><span class="err">的精确翻译是不知道，连不知道怎么让数据库知道，所以必须用专门的函数</span><span class="k">is</span><span class="err">和</span><span class="k">is</span> <span class="k">not</span><span class="err">进行判断，类似于</span><span class="kt">bit</span><span class="err">的</span><span class="n">bin</span><span class="err">函数</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
mysql> select Null+1;
+&mdash;&mdash;&mdash;&mdash;+
| Null+1 |
+&mdash;&mdash;&mdash;&mdash;+
|   NULL |
+&mdash;&mdash;&mdash;&mdash;+
1 row in set (0.04 sec)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="err">不知道</span><span class="o">+</span><span class="mi">1</span><span class="err">还是不知道。</span><span class="no">NUll</span><span class="err">相当于是一个对象，这个对象不知道里面的值为多少，所以无法进行</span><span class="o">=</span><span class="err">和</span><span class="k">like</span><span class="err">的比较</span>
</span><span class='line'><span class="k">SQL</span><span class="err">中使用</span><span class="k">is</span> <span class="no">null</span><span class="err">、</span><span class="k">is</span> <span class="k">not</span> <span class="no">null</span><span class="err">来进行空值判断：</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
mysql> select * from  b1 where Age is NULL;
+&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;+
| Id | Gender | Hobbies | Age  | Test |
+&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;+
| 12 |        | 购物    | NULL |   30 |
| 13 |       | 骑行    | NULL |   31 |
| 15 |       | 不清楚  | NULL |   31 |
| 16 |       | 散步    | NULL |   31 |
| 17 |       | NULL    | NULL |   31 |
+&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;+
5 rows in set (0.00 sec)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="err">如果使用</span><span class="o">=</span><span class="err">号</span> <span class="err">和</span><span class="k">like</span><span class="err">则没有任何显示</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
mysql> select * from  b1 where Age = NULL;
Empty set (0.01 sec)</p>

<p>mysql> select * from  b1 where Age like &lsquo;%NULL%&rsquo;;
Empty set (0.00 sec)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="mi">7</span> <span class="err">分组（</span><span class="k">group</span> <span class="k">by</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="err">比如有一个字段叫做部门，如果</span><span class="k">group</span> <span class="k">by</span> <span class="err">部门</span>  <span class="err">那么如果部门值相同的</span><span class="n">id</span><span class="err">则被分配到一个组中！！！同一组中的值可以进行再</span><span class="k">select</span><span class="p">,</span><span class="err">为了实现这个目的，一般需要了解外键的知识，多表的概念。现在进行测试：</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
mysql> select Age from b1 group by age;
+&mdash;&mdash;&mdash;+
| Age  |
+&mdash;&mdash;&mdash;+
| NULL |
|   24 |
|   25 |
|   26 |
|   27 |
|   30 |
|   34 |
+&mdash;&mdash;&mdash;+
7 rows in set (0.04 sec)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="err">可以看到如果对年龄进行分组，总共有</span><span class="mi">7</span><span class="err">个组</span>
</span><span class='line'><span class="err">将</span><span class="n">Age</span><span class="err">相同的数据行放到一组，分组后的数据可以看作一个临时的结果集，而</span><span class="k">SELECT</span>  <span class="n">Age</span><span class="err">语句则取出每组的</span><span class="n">Age</span><span class="err">字段的值，这样我们就得到上表的员工年龄段表了</span>
</span><span class='line'><span class="err">注意点：如果</span><span class="k">SELECT</span><span class="err">语句有</span><span class="k">WHERE</span><span class="err">子句，则</span><span class="k">GROUP</span> <span class="k">BY</span><span class="err">子句必须放到</span><span class="k">WHERE</span><span class="err">语句的之后。</span>
</span><span class='line'><span class="err">通过</span><span class="nf">count</span><span class="p">(</span><span class="n">Age</span><span class="p">)</span><span class="err">可以看到每个分组到底有多少个人！这是一个相当棒的查询结果</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
mysql> select Age,count(Age) from b1 group by age;
+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| Age  | count(Age) |
+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| NULL |          0 |
|   24 |          2 |
|   25 |          1 |
|   26 |          4 |
|   27 |          1 |
|   30 |          3 |
|   34 |          2 |
+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
7 rows in set (0.00 sec)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="err">可以想想如果</span> <span class="err">是对部门进行分组，并存在</span><span class="n">salary</span><span class="err">字段，则可以</span><span class="nf">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="err">获得某个部门的平均工资（</span><span class="n">min</span> <span class="err">最小</span>  <span class="n">max</span><span class="err">最大</span>  <span class="n">sum</span><span class="err">对部门工资求和！方便），因为经过分组后，</span><span class="k">select</span><span class="err">得到的结果是分组的信息，</span>
</span><span class='line'><span class="err">而不是单一的信息了</span>
</span><span class='line'><span class="mi">1</span><span class="err">）计算每个分组中的员工平均工资</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
SELECT Age,AVG(Salary) FROM T_Employees</p>

<p>GROUP BY Age</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="err">如鹏的总结：分组语句一般和聚合函数一起使用，</span><span class="k">GROUP</span> <span class="k">BY</span><span class="err">子句负责将数据分成逻辑组，而聚合函数则对每一个组进行统计计算。</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="mi">8</span><span class="p">.</span><span class="err">联合查询</span><span class="o">--</span><span class="err">之</span><span class="n">leftjoin</span><span class="err">模式</span>
</span><span class='line'>
</span><span class='line'><span class="err">多表查询，是一个比较实际的运用！，多表查询中涉及到联合查询，先建立三张表，然后添加数据，测试就会明白了</span>
</span><span class='line'><span class="err">创建第一张表</span> <span class="n">T_customers</span> <span class="p">,</span><span class="err">设计了</span><span class="n">Id</span><span class="err">为主键</span><span class="p">,</span><span class="err">自动增长，</span><span class="n">Name</span><span class="err">为</span><span class="kt">varchar</span>  <span class="k">not</span> <span class="no">null</span><span class="err">，</span><span class="n">Age</span><span class="err">为</span><span class="kt">tinyint</span><span class="err">就够了</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
mysql> create table T_Customers(</p>

<pre><code>-&gt; Id int(4) auto_increment primary key,
-&gt; Name varchar(20) not null default '',
-&gt; Age tinyint default 0);
</code></pre>

<p>Query OK, 0 rows affected (0.31 sec)</p>

<p>并添加完数据：
mysql> INSERT INTO T_Customers(Id,Name,Age)</p>

<pre><code>-&gt; VALUES(1,'TOM',21);
</code></pre>

<p>Query OK, 1 row affected (0.12 sec)</p>

<p>mysql> INSERT INTO T_Customers(Id,Name,Age)</p>

<pre><code>-&gt; VALUES(2,'MIKE',24);
</code></pre>

<p>Query OK, 1 row affected (0.06 sec)</p>

<p>mysql> INSERT INTO T_Customers(Id,Name,Age)</p>

<pre><code>-&gt; VALUES(3,'JACK',30);
</code></pre>

<p>Query OK, 1 row affected (0.09 sec)</p>

<p>mysql> INSERT INTO T_Customers(Id,Name,Age)</p>

<pre><code>-&gt; VALUES(4,'TOM',25);
</code></pre>

<p>Query OK, 1 row affected (0.03 sec)</p>

<p>mysql> INSERT INTO T_Customers(Id,Name,Age)</p>

<pre><code>-&gt; VALUES(5,'LINDA',30);
</code></pre>

<p>Query OK, 1 row affected (0.08 sec)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="err">显示表格结构</span><span class="p">:</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
mysql> desc T_customers;
+&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| Field | Type        | Null | Key | Default | Extra          |
+&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| Id    | int(4)      | NO   | PRI | NULL    | auto_increment |
| Name  | varchar(20) | NO   |     |         |                |
| Age   | tinyint(4)  | YES  |     | 0       |                |
+&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
3 rows in set (0.00 sec)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="err">显示表数据：</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
mysql> select * from T_customers;
+&mdash;&mdash;+&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+
| Id | Name  | Age  |
+&mdash;&mdash;+&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+
|  1 | TOM   |   21 |
|  2 | MIKE  |   24 |
|  3 | JACK  |   30 |
|  4 | TOM   |   25 |
|  5 | LINDA |   30 |
+&mdash;&mdash;+&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+
5 rows in set (0.00 sec)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="err">新建第二张表：</span><span class="n">T_OrderType</span>
</span><span class='line'><span class="err">设计</span><span class="n">ID</span><span class="err">和</span><span class="n">T_Customers</span><span class="err">一样，</span><span class="n">Name</span><span class="err">为订单类型名字，</span><span class="kt">varchar</span><span class="err">（</span><span class="mi">30</span><span class="err">）且非空</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
mysql> create table T_OrderType(</p>

<pre><code>-&gt; Id int auto_increment primary key,
-&gt; Name varchar(30) not null default '');
</code></pre>

<p>Query OK, 0 rows affected (0.35 sec)</p>

<p>mysql> desc T_OrderType;
+&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| Field | Type        | Null | Key | Default | Extra          |
+&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| Id    | int(11)     | NO   | PRI | NULL    | auto_increment |
| Name  | varchar(30) | NO   |     |         |                |
+&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
2 rows in set (0.00 sec)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="err">并插入表数据：</span>
</span><span class='line'><span class="err">不小心检错表名字了</span> <span class="err">，进行修改</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
mysql> rename table T_OrderType to T_OrderTypes;
Query OK, 0 rows affected (0.19 sec)
复制代码</p>

<p>mysql> INSERT INTO T_OrderTypes(Id,Name)</p>

<pre><code>-&gt; VALUES(1,'现货订单');
</code></pre>

<p>Query OK, 1 row affected (0.12 sec)</p>

<p>mysql> INSERT INTO T_OrderTypes(Id,Name)</p>

<pre><code>-&gt; VALUES(2,'预订订单');
</code></pre>

<p>Query OK, 1 row affected (0.03 sec)</p>

<p>mysql> INSERT INTO T_OrderTypes(Id,Name)</p>

<pre><code>-&gt; VALUES(3,'预购订单');
</code></pre>

<p>Query OK, 1 row affected (0.09 sec)</p>

<p>mysql> INSERT INTO T_OrderTypes(Id,Name)</p>

<pre><code>-&gt; VALUES(4,'内部');
</code></pre>

<p>Query OK, 1 row affected (0.09 sec)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="err">显示订单类型表结构信息</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
mysql> desc T_OrderTypes;
+&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| Field | Type        | Null | Key | Default | Extra          |
+&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| Id    | int(11)     | NO   | PRI | NULL    | auto_increment |
| Name  | varchar(30) | NO   |     |         |                |
+&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
2 rows in set (0.01 sec)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="err">显示其中的数据：</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
mysql> select * from T_OrderTypes;
+&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;+
| Id | Name     |
+&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;+
|  1 | 现货订单 |
|  2 | 预订订单 |
|  3 | 预购订单 |
|  4 | 内部     |
+&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;+
4 rows in set (0.00 sec)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="err">新建第三张</span> <span class="err">最重要的表！涉及到一个关键的新的知识点，外键的创建</span>
</span><span class='line'><span class="err">设计了五个参数</span>
</span><span class='line'><span class="n">ID</span>                 <span class="err">订单</span><span class="n">ID</span>  <span class="err">设计和其他两张表类型一致</span>
</span><span class='line'><span class="n">Number</span>       <span class="err">订单编号</span> <span class="err">设计为</span><span class="kt">varchar</span><span class="err">（</span><span class="mi">20</span><span class="err">）</span> <span class="k">not</span> <span class="no">null</span>
</span><span class='line'><span class="n">Price</span>             <span class="err">设计为</span> <span class="kt">int</span><span class="err">类型</span>
</span><span class='line'><span class="n">CustomerId</span>  <span class="err">外键</span><span class="mi">1</span>   <span class="err">为</span><span class="n">T_Customers</span><span class="err">的外键</span>
</span><span class='line'><span class="n">TypeId</span>           <span class="err">外键</span><span class="mi">2</span>  <span class="err">为</span><span class="n">T_OrderTypes</span><span class="err">的外键</span>
</span><span class='line'><span class="err">参考此文</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
mysql> create table T_Orders(</p>

<pre><code>-&gt; Id int auto_increment primary key,
-&gt; Number varchar(20) not null default '',
-&gt; Price int not null default 0,
-&gt; CustomerId int, foreign key(CustomerId) references T_customers(Id) on del
</code></pre>

<p>ete restrict on update cascade,</p>

<pre><code>-&gt; TypeId int, foreign key(TypeId) references T_OrderTypes(Id) on delete res
</code></pre>

<p>trict on update cascade);
Query OK, 0 rows affected (0.46 sec)</p>

<p>mysql></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="err">显示表结构</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
mysql> desc T_Orders;
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| Field      | Type        | Null | Key | Default | Extra          |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| Id         | int(11)     | NO   | PRI | NULL    | auto_increment |
| Number     | varchar(20) | NO   |     |         |                |
| Price      | int(11)     | NO   |     | 0       |                |
| CustomerId | int(11)     | YES  | MUL | NULL    |                |
| TypeId     | int(11)     | YES  | MUL | NULL    |                |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
5 rows in set (0.03 sec)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="err">另外一种更加清晰地显示表结构：</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
mysql> show create table T_Orders\G;
<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><em> 1. row </em></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></p>

<pre><code>   Table: T_Orders
</code></pre>

<p>Create Table: CREATE TABLE <code>t_orders</code> (
  <code>Id</code> int(11) NOT NULL AUTO_INCREMENT,
  <code>Number</code> varchar(20) NOT NULL DEFAULT &lsquo;&rsquo;,
  <code>Price</code> int(11) NOT NULL DEFAULT &lsquo;0&rsquo;,
  <code>CustomerId</code> int(11) DEFAULT NULL,
  <code>TypeId</code> int(11) DEFAULT NULL,
  PRIMARY KEY (<code>Id</code>),
  KEY <code>CustomerId</code> (<code>CustomerId</code>),
  KEY <code>TypeId</code> (<code>TypeId</code>),
  CONSTRAINT <code>t_orders_ibfk_1</code> FOREIGN KEY (<code>CustomerId</code>) REFERENCES <code>t_customer
s</code> (<code>Id</code>) ON UPDATE CASCADE,
  CONSTRAINT <code>t_orders_ibfk_2</code> FOREIGN KEY (<code>TypeId</code>) REFERENCES <code>t_ordertypes</code>
(<code>Id</code>) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8
1 row in set (0.00 sec)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="err">可以见到</span> <span class="k">CONSTRAINT</span><span class="err">的标志，如多定义没有指定</span><span class="k">CONSTRAINT</span> <span class="err">外键符号时，</span><span class="n">mysql</span><span class="err">会自动创建一个，比如</span><span class="n">t_orders_ibfk_1</span><span class="err">，就是外键符号，</span>
</span><span class='line'><span class="err">可以通过</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
ALTER TABLE T_Orders DROP FOREIGN KEY <code>t_orders_ibfk_1</code>来删除外键
mysql> alter table T_orders drop foreign key t_orders_ibfk_1;
Query OK, 0 rows affected (0.25 sec)
Records: 0  Duplicates: 0  Warnings: 0</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="err">再次显示表结构信息：</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
mysql> show create table T_orders\G;
<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><em> 1. row </em></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></p>

<pre><code>   Table: T_orders
</code></pre>

<p>Create Table: CREATE TABLE <code>t_orders</code> (
  <code>Id</code> int(11) NOT NULL AUTO_INCREMENT,
  <code>Number</code> varchar(20) NOT NULL DEFAULT &lsquo;&rsquo;,
  <code>Price</code> int(11) NOT NULL DEFAULT &lsquo;0&rsquo;,
  <code>CustomerId</code> int(11) DEFAULT NULL,
  <code>TypeId</code> int(11) DEFAULT NULL,
  PRIMARY KEY (<code>Id</code>),
  KEY <code>CustomerId</code> (<code>CustomerId</code>),
  KEY <code>TypeId</code> (<code>TypeId</code>),
  CONSTRAINT <code>t_orders_ibfk_2</code> FOREIGN KEY (<code>TypeId</code>) REFERENCES <code>t_ordertypes</code>
(<code>Id</code>) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8
1 row in set (0.00 sec)</p>

<p>ERROR:
No query specified</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="err">少了</span><span class="n">t_orders_ibfk_2</span>
</span><span class='line'><span class="err">那么如何再次添加呢？</span>
</span><span class='line'><span class="err">参考此文</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
mysql> alter table T_orders add  foreign key hello(CustomerId) references T_cust
omers(Id);
Query OK, 0 rows affected (0.74 sec)
Records: 0  Duplicates: 0  Warnings: 0</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="err">再次查看表结构信息：</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
mysql> show create table T_orders\G;
<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><em> 1. row </em></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></p>

<pre><code>   Table: T_orders
</code></pre>

<p>Create Table: CREATE TABLE <code>t_orders</code> (
  <code>Id</code> int(11) NOT NULL AUTO_INCREMENT,
  <code>Number</code> varchar(20) NOT NULL DEFAULT &lsquo;&rsquo;,
  <code>Price</code> int(11) NOT NULL DEFAULT &lsquo;0&rsquo;,
  <code>CustomerId</code> int(11) DEFAULT NULL,
  <code>TypeId</code> int(11) DEFAULT NULL,
  PRIMARY KEY (<code>Id</code>),
  KEY <code>TypeId</code> (<code>TypeId</code>),
  KEY <code>hello</code> (<code>CustomerId</code>),
  CONSTRAINT <code>t_orders_ibfk_2</code> FOREIGN KEY (<code>TypeId</code>) REFERENCES <code>t_ordertypes</code>
(<code>Id</code>) ON UPDATE CASCADE,
  CONSTRAINT <code>t_orders_ibfk_3</code> FOREIGN KEY (<code>CustomerId</code>) REFERENCES <code>t_customer
s</code> (<code>Id</code>)
) ENGINE=InnoDB DEFAULT CHARSET=utf8
1 row in set (0.00 sec)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="err">可以看到又增加了！</span>
</span><span class='line'><span class="err">插入表结构信息</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
mysql> INSERT INTO T_Orders(Id,Number,Price,CustomerId, TypeId)</p>

<pre><code>-&gt; VALUES(1,'K001',100,1,1);
</code></pre>

<p>Query OK, 1 row affected (0.06 sec)</p>

<p>mysql> INSERT INTO T_Orders(Id,Number,Price,CustomerId, TypeId)</p>

<pre><code>-&gt; VALUES(2,'K002',200,1,1);
</code></pre>

<p>Query OK, 1 row affected (0.04 sec)</p>

<p>mysql> INSERT INTO T_Orders(Id,Number,Price,CustomerId, TypeId)</p>

<pre><code>-&gt; VALUES(3,'T003',300,1,2);
</code></pre>

<p>Query OK, 1 row affected (0.08 sec)</p>

<p>mysql> INSERT INTO T_Orders(Id,Number,Price,CustomerId, TypeId)</p>

<pre><code>-&gt; VALUES(4,'N002',100,2,2);
</code></pre>

<p>Query OK, 1 row affected (0.04 sec)</p>

<p>mysql> INSERT INTO T_Orders(Id,Number,Price,CustomerId, TypeId)</p>

<pre><code>-&gt; VALUES(5,'N003',500,3,4);
</code></pre>

<p>Query OK, 1 row affected (0.04 sec)</p>

<p>mysql> INSERT INTO T_Orders(Id,Number,Price,CustomerId, TypeId)</p>

<pre><code>-&gt; VALUES(6,'T001',300,4,3);
</code></pre>

<p>Query OK, 1 row affected (0.04 sec)</p>

<p>mysql> INSERT INTO T_Orders(Id,Number,Price,CustomerId, TypeId)</p>

<pre><code>-&gt; VALUES(7,'T002',100,1,1);
</code></pre>

<p>Query OK, 1 row affected (0.05 sec)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="err">于是我们可以开始进行联合查询了：</span>
</span><span class='line'><span class="mi">1</span><span class="err">、查询每张订单的订单号、价格、对应的客户姓名以及客户年龄</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
mysql> select o.Number,o.Price,c.Name,c.Age</p>

<pre><code>-&gt; From T_Orders o
-&gt; Left join T_Customers c
-&gt; On o.CustomerId=c.Id;
</code></pre>

<p>+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;+
| Number | Price | Name | Age  |
+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;+
| K001   |   100 | TOM  |   21 |
| K002   |   200 | TOM  |   21 |
| T003   |   300 | TOM  |   21 |
| T002   |   100 | TOM  |   21 |
| N002   |   100 | MIKE |   24 |
| N003   |   500 | JACK |   30 |
| T001   |   300 | TOM  |   25 |
+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;+
7 rows in set (0.08 sec)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="mi">2</span><span class="err">、添加</span><span class="k">where</span><span class="err">语句</span><span class="p">(</span><span class="err">显示价格</span><span class="o">&gt;=</span><span class="mi">150</span><span class="err">元的订单</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
mysql> select o.Number,o.Price,o.CustomerId,c.Name,c.Age</p>

<pre><code>-&gt; from t_orders o
-&gt; left join t_customers c on o.CustomerId = c.Id
-&gt; where o.price &gt;=150;
</code></pre>

<p>+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;+
| Number | Price | CustomerId | Name | Age  |
+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;+
| K002   |   200 |          1 | TOM  |   21 |
| T003   |   300 |          1 | TOM  |   21 |
| N003   |   500 |          3 | JACK |   30 |
| T001   |   300 |          4 | TOM  |   25 |
+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;+
4 rows in set (0.06 sec)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="mi">3</span><span class="err">、多表</span><span class="k">join</span><span class="err">连接查询</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
mysql> select o.Number 订单号 ,o.Price 价格,c.Name 客户姓名,c.Age 客户年</p>

<pre><code>-&gt; t.Name 订单类型 from t_orders o
-&gt; left join T_customers c on o.customerId=c.Id
-&gt; left join T_OrderTypes t on o.TypeId=t.Id;
</code></pre>

<p>+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;+
| 订单号 | 价格 | 客户姓名 | 客户年龄 | 订单类型 |
+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;+
| K001   |  100 | TOM      |       21 | 现货订单 |
| K002   |  200 | TOM      |       21 | 现货订单 |
| T003   |  300 | TOM      |       21 | 预订订单 |
| T002   |  100 | TOM      |       21 | 现货订单 |
| N002   |  100 | MIKE     |       24 | 预订订单 |
| N003   |  500 | JACK     |       30 | 内部     |
| T001   |  300 | TOM      |       25 | 预购订单 |
+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;+
7 rows in set (0.12 sec)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='mysql'><span class='line'><span class="err">由此可见</span> <span class="err">多表查询的魅力！！！。</span>
</span><span class='line'>
</span><span class='line'><span class="mi">9</span><span class="p">.</span><span class="err">外键约束</span>
</span></code></pre></td></tr></table></div></figure>


<p>mysql
create table T_Orders(
Id int auto_increment primary key,
Number varchar(20) not null default &lsquo;&rsquo;,
Price int not null default 0,
CustomerId int, foreign key(CustomerId) references T_customers(Id) on del
ete restrict on update cascade,
TypeId int, foreign key(TypeId) references T_OrderTypes(Id) on delete res
trict on update cascade);
on delete restrict: 也就是限制删除(当你的外键被使用是  一旦被引用则不被删除，防止产生数据紊乱）
on update cascade（当更新时候，索引也相应的进行更新）</p>

<p>&#8220;`</p>

<p>待学习的知识点：  触发器，约束，子查询，引擎（存储过程），除了left join的其他join 。。。</p>

<p>补充（来自如鹏）：1SQL语句中字符串一般用单引号。
2简单的插入数据的SQL语句：INSERT INTO T_Persons(Id,Name,Age,Gender) VALUES(5,&lsquo;Jim&rsquo;,20,1)
Insert语句可以省略表名后的列名，但是强烈不推荐
3.如果插入的行中有些字段的值不确定，那么Insert的时候不指定那些列即可。不“允许为空”的列在插入时不能省略
4，自动递增/自增(Auto Increment)：字段自增可以避免并发等问题，不要程序员代码控制自增。用自增字段在Insert的时候不用指定值。修改表结构的方法【设计表】</p>

<pre><code>1.MySQL的语言中没有top修饰，不过可以使用limit来操作。
    2.MySQL和SQL Server 均支持as。as可以命名一个列或者表为其他名称。
    3.Distinct可以用户排除重复，若在Distinct后面用逗号分隔了好几个列，那表示要将这些列联合起来去重复。
    4.Order by 列名 asc/desc  其中asc为默认的从小到大，desc为从大大小，实际项目中，很多表的数据显示都需要从后面到前面。
    5.聚合函数在各个数据库中均受到支持。AVG、MAX、SUM、COUNT。同一个语句中，多个聚合函数可以一起使用。
    6.聚合函数多和Group by一起使用，如果没有Group by那么聚合的就是整个表的所有指定列的数据。
    7.模糊查询不是使用= 而是使用 like结合百分号 %
    8.使用count聚合函数可以查找符合条件的某一列是否存在。
    9.原则∶当使用了分组函数Group by后，select只能是聚合函数或者Group by的列。虽然MySQL不报错，但是仍然不推荐这么使用。
    10.对于第9点，虽然select 的只能是Group by的但是聚合函数仍然可以聚合其他列。
    11.Having和Where区别，Having搭配Group by使用，是对分组后的数据进行筛选。而Where是在分组前就行筛选。
    12.当多表查询的时候，不推荐单纯的使用*
    13.对于多表查询，一定要注意使用别名。
    14.Inner  Join 就是Join。
    15.All  Some Any中Some和Any等价的。
    16.多表查询使用On来连接，多为=来连接。
    17.Join和Union区别，可以形象的记忆为 Join是横着的连接，Union是上下竖着的连接。
    18.Left Join 是一定显示左边的，没显示的使用null来补位，Right Join是右边的表一定显示，左边的表某列不存在使用Null来补位。
    19.当子查询的结果不是一个的时候，主查询又在使用&gt; &lt; =表达式的时候，All 所有  Any/Some的作用就发挥了。
    20.从原理上来讲，多张表联合起来的查询是∶若A,B两张表，A表的第一列依次扫描B表的每一列，提取符号条件的。类似2个嵌套的for循环那样。
    21.当子查询的结果不是1列的时候，是不能使用 &gt; =&lt; 这些运算符的。
    22.使用Union，Intersect，Except运算符的时候，目标列表需要有相同的数目。
    23.聚合函数一般搭配分组函数一起使用，若不分组，那么就按照where的来，如果where没有就是所有的列。
    24.在使用in的语句中，一般都是可以使用Exists，且Exits会走索性相对来说快点，但是不一定。练习的时候，2个都要写出来。
    25.当Exits Where 的时候，该SQL语句运行顺序是这样的∶先运行Exits前面的，然后将每一列带入where中进行查询匹配，如果找到了就输出这一列。反之不输出。
    26.Exits函数的返回只是true或者fanlse。
    27.like或者not like利用 %进行模糊查询。
    28.逗号连接的2个∶  from A，B   |||   order by a asc, b desc
    29.聚合函数不应该出现在Where中，如果Where要出现，那么将其单独搞成子查询的模式。
</code></pre>

<p class='post-footer'>
                        原始地址:<a href='http://jueqingsizhe66.github.io/blog/2015/05/11/mysql2yue-15ri-javaban-zuo-ye-bi-ji/'>http://jueqingsizhe66.github.io/blog/2015/05/11/mysql2yue-15ri-javaban-zuo-ye-bi-ji/</a><br/>&nbsp;written by <a href='http://jueqingsizhe66.github.io'>Ye Zhaoliang</a>&nbsp;posted at <a href='http://jueqingsizhe66.github.io'>http://jueqingsizhe66.github.io</a></p>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Ye Zhaoliang</span></span>

      








  


<time datetime="2015-05-11T14:58:45+08:00" pubdate data-updated="true">May 11<span>th</span>, 2015</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/mysql/'>Mysql</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2015/05/11/duo-xian-cheng-march18th/" title="Previous Post: 多线程March18th">&laquo; 多线程March18th</a>
      
      
        <a class="basic-alignment right" href="/blog/2015/05/11/fan-she-ji-zhi-nei-sheng-zheng-ze/" title="Next Post: 反射机制内省正则">反射机制内省正则 &raquo;</a>
      
    </p>
  </footer>
</article>



  <section>
    <h1>Comments</h1>
    <div id="comments" aria-live="polite"><div class="ds-thread" > </div>
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"f708708"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end -->
</div>
  </section>


</div>

<aside class="sidebar">
  
    <section>
  <article role="article">  <!--不是他的原因-->
    <p>
      <!--<img class="alignleft" src="/images/xinran.jpg" style="Float:left;MARGIN-BOTTOM: 10px;MARGIN-RIGHT: 40px" weight="100" height="140" border="0" /> -->
      <img class="alignleft" src="/images/lvxing/gulangyu.jpg" style="Float:left;MARGIN-BOTTOM: 10px;MARGIN-RIGHT: 10px" weight="100" height="140" border="0" /> 
 <!--而是yellow的原因-->
<!--不是他的原因-->
 </br> 
    <h4> 叶昭良(Zhaoliang Ye) believe& 肖欣然(Xinran Xiao)</h4>
    <h5> Our Life </h5>
<hr style="color:#990000;border:1px dotted">
    QQ: <a href="977962857@qq.com">977962857@qq.com</a>
        <a href="36559660@qq.com">36559660@qq.com</a>

    </br>
    Weibo: <a href="zhaoturkkey@sina.com">zhaoturkkey@sina.com</a>

    <h5>Our Work</h5>

<hr style="color:#990000;border:1px dotted">
  <p>fortran程序员,Java程序员,HR,CFD</p>

<h5>Some books and links</h5>
<hr style="color:#990000;border:1px dotted">

<p>Scheme:</br>
  <a href="http://www.ccs.neu.edu/home/matthias/BTLS/"><font color="red">《the little scheme》(TLS)</font></a></br>
    <a href=" http://www.ccs.neu.edu/home/matthias/BTSS/">《The Season Scheme》(TSS)</a> </br>
    <a href="http://www.realmofracket.com/ ">《 Realm of Racket》</a> </br>
  <a href="http://scheme.com/tspl4/">《The Scheme Programming Language》(TSPL) </a> </br> 
  <a href=" http://mitpress.mit.edu/sicp/full-text/book/book-Z-H-4.html#%_toc_start">《Structure and Interpretation of Computer Programs》(SICP)</a></br>
  <a href="http://community.schemewiki.org/?SICP-Solutions ">SICP Solution</a></br>
  <a href="https://github.com/DeathKing/Learning-SICP">Learning SICP</a></br>
  <a href="http://www.eopl3.com/ "><font color="red">《Essentials of Programming Language》(EOPL)</font></a></br>
  <a href="http://academic.udayton.edu/SaverioPerugini/courses/cps343/lecture_notes/ ">EOPL Course</a></br>

  <a href="http://www.ccs.neu.edu/home/matthias/HtDP2e/">How to Design programs(程序设计方法 SICP的简化版)</a></br>
  <a href="http://www.cs.berkeley.edu/~bh/ss-toc2.html"> Simply Scheme(中学级别)</a></br>
  <a href="http://songjinghe.github.io/TYS-zh-translation/"> Scheme语言简明教程(汉)</a></br>
  <a href="http://ds26gte.github.io/tyscheme/index.html"> Teach yourself Scheme in fixed days</a></br>
  <a href="http://vdisk.weibo.com/s/uutnsRMnFAbDA ">Scheme in programming(不错的入门书籍)</a></br>


</p>
<p> Lisp: </br>
  <a href=" http://www.landoflisp.com/">《Land of Lisp》</a></br>
  <a href="http://www.lisperati.com/casting.html">[Casting_spels] </a></br>
  <a href=" http://www.gigamonkeys.com/book/"> 《Practical CommonLisp》</a></br>
  <a href="http://www.paulgraham.com/acl.html">《ANSI_Common_lisp》 </a> </br>
  <a href="http://www.norvig.com/paip.html"> 《Paradigms of Artificial Intelligence Programming(PAIP)》</a></br>

</p>
<p> Clojure: </br>
  <a href="http://buhoz.net/public/books/lenguajes/clojure/Practical.Clojure.pdf">《Prcatical_clojure》</a></br>
  <a href=" http://www.joyofclojure.com/">《The joy of Clojure》</a>
  <a href="http://www.clojurebook.com/">《programming Clojure》 </a> </br>
  <a href="http://blog.csdn.net/zh2qiang/article/category/928066"> Programming clojure学习笔记 </a></br>
  <a href="http://xumingming.sinaapp.com/302/">Clojure入门教程: Clojure – Functional Programming for the JVM </a> </br>
  <a href="http://www.oschina.net/translate/the-clojure-philosophy?cmp">Clojure 哲学</a></br> 

</p></br>
<p> Haskell:</br>
  <a href="http://fleurer-lee.com/lyah/introduction.htm#%E5%85%B3%E4%BA%8E%E8%BF%99%E4%B8%AA%E6%95%99%E7%A8%8B ">Haskell趣味指南</a></br>
  <a href="https://www.haskell.org/">Hashell:An advanced purely-functional programming language </a></br>
  <a href="http://www.cs.nott.ac.uk/~gmh/book.html "> Programming in Haskell</a></br>
  <a href=" http://www.scs.stanford.edu/11au-cs240h/">Hashell Mit Course</a></br>

<p> Fortran:</br>
  <a href="http://www.personal.psu.edu/jhm/f90/lectures/quickref.html"> fortran90</a></br>
  <a href="http://people.sc.fsu.edu/~jburkardt/">John Burkardt</a> </br>
  <a href=" http://jblevins.org/mirror/amiller/#pzeros">Alan-Miller</a></br>
  <a href="http://micro.ustc.edu.cn/Fortran/">Fortran收集 </a></br>
  <a href="http://pan.baidu.com/s/1gdCN1T5"><font color="red">工程数值方法</font></a></br>
  <a href=" https://github.com/jueqingsizhe66/gtk-fortran">fortran-gtk</a></br>
  <a href="http://203.195.149.196/ldt9v/ebook/Modern_Fortran_Explained.pdf "> 《Modern Fortran Explained》(高级)</a></br>
  <a href="http://203.195.149.196/ldt9v/ebook/Fortran95_2003_Science_Project_SongYeZhi.zip ">《Fortran95~2003数值计算》(宋叶志)</a></br>
 
   
</p>

<p> Java:</br>
  <a href="http://a-little-java-a-few-patterns.readthedocs.org/zh_CN/latest/index.html"> A little Java (visitor pattern)</a></br>
  <a href="http://www.mkyong.com/"> Mkyong-java8</a></br>
  <a href="http://howtodoinjava.com/ "> how-to-do-in-java</a></br>
  <a href="http://stackoverflow.com/ "> StackOverflow问题堆栈 </a></br>
  <a href="http://www.blogjava.net/ ">BlogJava</a></br>
  <a href="http://www.importnew.com/ "> Java 新闻</a></br>
  <a href="http://ifeve.com/category/java/ "> 并发编程网</a></br>
  <a href="http://www.iteye.com/blogs ">IT 视角 </a></br>
  <a href="http://www.iteye.com/forums/tag_good/Java%E7%BB%BC%E5%90%88 ">IT 视角之java综合(SSH) </a></br>
  <a href="http://rednaxelafx.iteye.com/category/22617 ">IT 视角之rednaxelafx </a></br>
  <a href="http://droidyue.com/ ">技术小黑屋 </a></br>
  <a href="https://mouxuejie.com/ "> 某学姐 </a></br>
  <a href="http://gudong.name/ "> 咕咚-handler  </a></br>
  <a href="http://www.superqq.com/ "> ios-自媒体  </a></br>
  <a href="http://blog.csdn.net/jackfrued/ "><font color="red"> CSDN-骆昊的技术专栏</font> </a></br>
  <a href="http://www.adrop.me/cat/tech/java/ "> Adrop 自留地</a></br>
  <a href="http://www.programcreek.com/ "> Programcreek</a></br>
  <a href="http://java-performance.info/ "> Java-Performance(JP)</a></br>
  <a href="http://www.ibm.com/developerworks/cn/java/ "> IBM Java开发者社区</a></br>
  <a href="http://shipilev.net/ "> Aleksey Shipilëv: One Stop Page </a></br>
  <a href="http://www.pandablog.cn/?cat=9 "> 熊猫大仙</a></br>
  <a href="http://www.pixelstech.net/article.php?type=all "> pixelstech</a></br>
  <a href="http://timyang.net/ "> 后端技术-java</a></br>
  <a href="http://www.adam-bien.com/roller/abien/ "> abian德国Javaee</a></br>
  <a href="https://javax0.wordpress.com/ "> Java纯粹(匈牙利) </a></br>
  <a href="https://antoniogoncalves.org/ ">JAVAEE协议作者 (法国)-图文并茂 </a></br>
  <a href="http://www.importnew.com/7469.html "> 100个小链接 </a></br>

</p>

<p> Java github repos: </br>
  <a href="https://github.com/akullpp/awesome-java "> awesome-java一些常用的库链接</a></br>
  <a href="https://github.com/codefollower/My-Blog ">  codefollowers</a></br>
  </p>

<p> JAVA API: </br>
   <a href="https://docs.oracle.com/javaee/7/api/  "> JAVAEE 7 API</a></br>
  <a href="https://docs.oracle.com/javase/8/docs/api/index.html  ">  JAVASE 8 API</a></br>
  <a href="https://struts.apache.org/maven/struts2-core/apidocs/index.html "> <font color="red">Struts2core 2.5</font> </a></br>
  <a href="http://docs.jboss.org/hibernate/search/5.6/api/ "> <font color="red">Hibernate5.6 </font></a></br>
  <a href="http://spring.io/docs/reference "><font color="red">Spring系列文档</font> </a></br>
  <a href="http://docs.spring.io/spring/docs/4.3.0.RC1/javadoc-api/ "><font color="red">Spring Framework</font> </a></br>

</p>

<p> Bash:</br>
  <a href="http://vbird.dic.ksu.edu.tw/linux_basic/0320bash.php ">鸟哥的私房菜</a></br>
  <a href=" http://www.thegeekstuff.com/bash-101-hacks-ebook/">Bash 101 Hacks</a></br>
</p>

<p> Perl:</br>
  <a href="http://bbs.pinggu.org/thread-4890642-1-1.html">Learning Perl(7th) 2016 入门 </a></br>
  <a href="https://zhidao.baidu.com/share/2e40aed238e8a3f0fdb8d8148aa88565.html">The Immediate Perl(2th) 2006 中级 </a></br>
  <a href="http://www.jb51.net/books/24569.html"> Mastering Perl 高级</a></br>
  <a href="http://download.csdn.net/detail/blkf/4131770">Perl Programming (4th) (Larry Wall) </a></br>
  <a href="http://www.tutorialspoint.com/perl/perl_oo_perl.htm ">Perl Object Orient Programming(perl oop) </a></br>
  <a href="http://vdisk.weibo.com/s/zcetMufbD44U0">Perl Best Practice(Domian Conway) 2006 终极</a></br>
  <a href="http://wwwacs.gantep.edu.tr/docs/perl-ebook/ch19.htm">Perl Object Orient Programming(by Kamran Husain) </a></br>
  <a href="http://www.ibm.com/developerworks/cn/linux/sdk/perl/perl-1/index.html ">一篇写得不错的perl intro</a></br>
  <a href="http://dbi.perl.org/docs/">Perl DBI </a></br> 
  <a href="http://www.tutorialspoint.com/perl/perl_database.htm">Perl DataBase Management </a></br>
  <a href="http://www.tutorialspoint.com/perl/perl_cgi.htm ">Perl CGI script </a></br>
  <a href="http://www.tutorialspoint.com/perl/perl_modules.htm">Writing Perl Module</a></br>
</p>


  <p>English: </br>
    <a href="http://book.douban.com/subject/1014914/"> 《英语魔法俱乐部》</a>一本相当不错的英语语法书。
    <a href="http://vdisk.weibo.com/search/?type=public&keyword=%E9%A3%8E%E6%A0%BC%E7%9A%84%E8%A6%81%E7%B4%A0">风格的要素(Element of Style)</a> 英语写作的圣经</br>
    <a href="http://www.geraldmweinberg.com/Site/On_Writing.html">WeinBerg On Writing:The fieldstone method </a> 收集WeinBerg Stones</br>
 
  </p>
  <p> 流体力学：</br>
  <a href="http://vdisk.weibo.com/s/uuCAVsYacltnf">计算流体力学入门(安德森)</a></br>
  <a href="http://vdisk.weibo.com/search/?type=public&keyword=%E7%A9%BA%E6%B0%94%E5%8A%A8%E5%8A%9B%E5%AD%A6%E5%9F%BA%E7%A1%80"><font color="red">空气动力学基础(安德森)</font> </a></br>
  <a href="http://vdisk.weibo.com/s/dgA_ls6t1ywY5 ">计算流体力学与传热学(陶文铨)</a></br>
  <a href="http://dyfluid.com/ ">东岳流体</a></br>
  <a href="http://blog.sina.com.cn/openfoamresearch "> 苏军伟-sina</a></br>


  </p>

  <p> 数学:</br>
    <a href="http://ocw.mit.edu/faculty/gilbert-strang/">Gilbert Strang Professor 微积分，线性代数，微分方程</a> </br> 
    <a href="http://math.mit.edu/~rbm/ "> Richard Melrose 泛函分析</a></br> 
    <a href="http://homepage.ntlworld.com/ivan.wilde/notes/ ">Dr Ivan F Wilde 复分析</a></br>
  </p>
  <p> Machine Learning:(降维和优化) Support Vector Machine</br>
    <a href="http://blog.csdn.net/v_july_v/article/details/7624837"><font color="red">July SVM三层境界</font></a> </br> 
    <a href="http://vdisk.weibo.com/u/1580904460 ">July Vdisk</a> </br> 
    <a href="http://www.blogjava.net/zhenandaci/archive/2009/03/15/259786.html "> Jason Java Jacal</a></br> 
    <a href="http://www.csie.ntu.edu.tw/~cjlin/libsvm/ ">LibSvm: </a></br>
    <a href="http://www.svms.org/vc-dimension/ ">Vc-dimension</a></br>
    <a href="http://www.autonlab.org/tutorials/svm15.pdf ">内基梅隆大学carnegie mellon university(CMU) Svm Tutorials</a></br>
    <a href="http://120.52.72.51/www.cmlab.csie.ntu.edu.tw/c3pr90ntcsf0/~cyy/learning/tutorials/SVR.pdf ">SVR :回归分析</a></br>

    <a href="http://blog.csdn.net/zhzhl202/article/details/8197109 ">文本分类和SVM</a></br>
    <a href="http://www.cnblogs.com/jerrylead/tag/Machine%20Learning/ ">斯坦福机器课程学习笔记</a></br>
    <a href="http://www.cnblogs.com/jerrylead/archive/2012/05/08/2489725.html ">斯坦福大学的原始讲义</a></br>
    <a href="http://www.mit.edu/~9.520/spring11/slides/class06-svm.pdf ">MIT SVM讲义</a></br>
    <a href="http://icml2008.cs.helsinki.fi/papers/266.pdf ">SVM优化</a></br>
    <a href="http://blog.csdn.net/qll125596718/article/details/8248249 ">最小二乘法及其实现</a></br>
    <a href="http://vdisk.weibo.com/s/s-XOVNRQc_reY ">《数理统计学简史》陈希孺院士著  </a></br>
    <a href="http://vdisk.weibo.com/s/BZndAHHdASslv ">《最优化理论与算法》(第2版)－陈宝林 </a></br>
    <a href="http://www.52nlp.cn/tag/%E6%AD%A3%E6%80%81%E5%88%86%E5%B8%83%E7%9A%84%E5%89%8D%E4%B8%96%E4%BB%8A%E7%94%9F ">正态分布的前世今生</a></br>

  </p>
  <p>Climing and Take a tourist</p>
    <h5>Contact Us</h5>
<hr style="color:#990000;border:1px dotted">
    Email:<a href="zhaoturkkey@163.com">zhaoturkkey@163.com</a></br>
         <a href="36559660@qq.com">36559660@qq.com</a>

  </article>
  <p><img src="/images/wood.jpg"  alt="zhaoturkkey@gmail.com" /></p></section>
</section>

<section>
  <h1>分类目录</h1>
  <ul id="categories">
    <li class='category'><a href='/blog/categories/fast/'>Fast (4)</a></li>
<li class='category'><a href='/blog/categories/html/'>HTML (1)</a></li>
<li class='category'><a href='/blog/categories/haskell/'>Haskell (21)</a></li>
<li class='category'><a href='/blog/categories/jsdom/'>JSDom (3)</a></li>
<li class='category'><a href='/blog/categories/javabasic/'>JavaBasic (22)</a></li>
<li class='category'><a href='/blog/categories/javascript/'>JavaScript (3)</a></li>
<li class='category'><a href='/blog/categories/linux/'>Linux (20)</a></li>
<li class='category'><a href='/blog/categories/lisp/'>Lisp (1)</a></li>
<li class='category'><a href='/blog/categories/mysql/'>Mysql (2)</a></li>
<li class='category'><a href='/blog/categories/tecplot/'>Tecplot (1)</a></li>
<li class='category'><a href='/blog/categories/error/'>error (1)</a></li>
<li class='category'><a href='/blog/categories/fortran/'>fortran (5)</a></li>
<li class='category'><a href='/blog/categories/git/'>git (3)</a></li>
<li class='category'><a href='/blog/categories/gnuplot/'>gnuplot (1)</a></li>
<li class='category'><a href='/blog/categories/graphviz/'>graphviz (1)</a></li>
<li class='category'><a href='/blog/categories/humor/'>humor (1)</a></li>
<li class='category'><a href='/blog/categories/incompact3d/'>incompact3d (4)</a></li>
<li class='category'><a href='/blog/categories/jquery/'>jQuery (2)</a></li>
<li class='category'><a href='/blog/categories/life/'>life (19)</a></li>
<li class='category'><a href='/blog/categories/makefile/'>makefile (2)</a></li>
<li class='category'><a href='/blog/categories/markdown/'>markdown (4)</a></li>
<li class='category'><a href='/blog/categories/matlab/'>matlab (2)</a></li>
<li class='category'><a href='/blog/categories/openfoam/'>openfoam (1)</a></li>
<li class='category'><a href='/blog/categories/perl/'>perl (3)</a></li>
<li class='category'><a href='/blog/categories/physics/'>physics (1)</a></li>
<li class='category'><a href='/blog/categories/prolog/'>prolog (4)</a></li>
<li class='category'><a href='/blog/categories/python/'>python (1)</a></li>
<li class='category'><a href='/blog/categories/scheme/'>scheme (35)</a></li>
<li class='category'><a href='/blog/categories/vim/'>vim (2)</a></li>
<li class='category'><a href='/blog/categories/xml/'>xml (1)</a></li>

  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2017/02/08/fortrandu-qu-csvwen-jian/">Fortran读取csv文件</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/02/08/perldu-qu-mysqlshu-ju-ku/">Perl读取mysql数据库</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/02/08/perlzhong-wen-luan-ma-wen-ti/">Perl中文乱码问题</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/02/07/%5B%3F%5D-fen-you-qu-de-fortrandong-tai-jing-tai-lian-jie-wen/">一份有趣的fortran动态静态链接文</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/02/07/fastdiao-shi/">FAST调试</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/jueqingsizhe66">@jueqingsizhe66</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'jueqingsizhe66',
            count: 2,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>



<section class="googleplus googleplus-hidden">
  <h1>
    <a href="https://plus.google.com/zhaoturkkey@gmail.com?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>


<section>
<h1>Zhao's Douban</h1>
<div>
 <script type="text/javascript" src="http://www.douban.com/service/badge/50717256/?selection=latest&amp;picsize=small&amp;hideself=on&amp;show=collection&amp;n=8&amp;cat=drama%7Cmovie%7Cbook%7Cmusic&amp;columns=2"></script>
</div>
</section>
<section>
<h1>Recent Comments</h1>
<ul class="ds-recent-comments" data-num-items="10" data-show-avatars="0" data-show-time="1" data-show-title="0" data-show-admin="0" data-excerpt-length="18"></ul>

</section>
<section>
  <h1>盟友</h1>
  <ul>
    <li><a href="http://www.cfd-online.com/">CFD1</a></li>
    <li><a href="http://www.sci-hub.cc">sci文章破解下载</a></li>
    <li><a href="https://nwtc.nrel.gov/">NREL-NWTC </a></li>
    <li>
      <a href="http://mindhacks.cn/">刘未鹏MIND HACKS</a>
    </li>
    <li>
      <a href="http://www.cnblogs.com/Solstice/">陈硕</a>
    </li>
    <li>
      <a href="http://tianchunbinghe.blog.163.com/">冰河-网易</a></br>
      <a href="http://weibo.com/tianchunbinghe?from=myfollow_all&is_all=1#_rnd1455615502647">冰河-新浪</a>
    </li>
    <li>
      <a href="http://yinwang.org/">王垠</a></br>
      <a href="http://www.jianshu.com/users/b1dd2b2c87a8/latest_articles">王垠-简书</a>
    </li>
    <li>
      <a href="http://www.huzheng.org/ ">胡正</a>
      </li>
    <li>
      <a href="http://xahlee.org/ ">李杀</a>
      </li>
    <li>
      <a href="http://www.is.pku.edu.cn/~qzy/ "> 裘宗燕</a>
      </li>
    <li>
      <a href=" http://blog.csdn.net/v_july_v"> July</a>
      </li>
    <li>
      <a href="http://deathking.github.io/ "> deathKing: Learning-in-SICP</a>
      </li>



    <li>
      <a href=" https://en.wikipedia.org/wiki/Scheme_%28programming_language%29"> scheme wikipedia(history of scheme)</a>
    </li>
    <li>
      <a href="https://inst.eecs.berkeley.edu/~cs61a/fa14/proj/scheme/ ">CS61a:a scheme interpreter </a>
      <a href="https://github.com/dhrushilbadani/Scheme "> interpreter with python implementation </a>
    </li>
    <li>
      <a href="https://cgi.soic.indiana.edu/~c311/doku.php "> C311/B521/B621 </a>
    </li>
    <li>
      <a href="http://minikanren.org/ "> MiniKanren</a>
    </li>
    <li>
      <a href=" http://lambda-the-ultimate.org/"> Lambda the ultimate</a>
    </li>
    <li>
      <a href="http://people.csail.mit.edu/jaffer/SLIB "> The SLIB Portable Scheme library</a>
    </li>

    <li>
      <a href="http://v.qq.com/cover/p/pd51cjco90d1rc1.html?vid=o0015dvd155 "> 北平无战事43:承受</a>
    </li>


  </ul>
</section>
<section>
<h1>My website link<abbr title="The word 'QR Code' is a registered trademark of DENSO WAVE INCORPORATED. It applies only for the word 'QR Code', not for image.">&trade;</abbr></h1>
<a href="http://jueqingsizhe66.github.io/blog/2015/05/11/mysql2yue-15ri-javaban-zuo-ye-bi-ji/"><img src="http://chart.apis.google.com/chart?chs=150x150&cht=qr&chld=|0&chco=165B94&chl=http://jueqingsizhe66.github.io/blog/2015/05/11/mysql2yue-15ri-javaban-zuo-ye-bi-ji/" alt="post-qrcode"></a></section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2017 - Ye Zhaoliang -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>







</body>
</html>
